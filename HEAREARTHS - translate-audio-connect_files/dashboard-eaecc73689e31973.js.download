(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9724],{87100:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return a(99798)}])},53590:(e,t,a)=>{"use strict";a.d(t,{A:()=>c,P:()=>d});var r=a(74848),s=a(96540),l=a(28266),i=a(91106),n=a.n(i),o=a(65253);let d=[{text:"Note taking app",prompt:"Create a minimalist note taking app with the ability to create, edit and delete notes"},{text:"Fitness tracker",prompt:"Build a fitness tracker that can track workout sessions and display progress"},{text:"SaaS landing page",prompt:"Design a professional SaaS landing page with hero section, features, pricing and contact form"},{text:"Real estate listings",prompt:"Create a real estate listing app with property search filters and details view"},{text:"Recipe finder",prompt:"Build a recipe finder app with ingredient search and dietary filters"},{text:"Portfolio site",prompt:"Create a minimalist portfolio website with project showcase and contact form"},{text:"Weather app",prompt:"Design a weather app with 5-day forecast and location detection"},{text:"Quiz builder",prompt:"Build a quiz creation app where users can make and share custom quizzes"},{text:"Task manager",prompt:"Create a Kanban-style task management app with drag and drop functionality"},{text:"Social feed",prompt:"Design a social media feed with posts, comments, and reactions"},{text:"E-commerce store",prompt:"Build an e-commerce store with product catalog, cart and checkout"},{text:"Budget tracker",prompt:"Create a personal finance app for tracking income, expenses and savings goals"},{text:"Travel planner",prompt:"Build a travel itinerary planner with maps, attractions and hotel bookings"},{text:"Chat app",prompt:"Create a real-time chat application with private messages and group chats"},{text:"News aggregator",prompt:"Design a news app that collects articles from various sources with category filters"},{text:"Job board",prompt:"Build a job listing platform with search, filtering and application tracking"},{text:"Event calendar",prompt:"Create an event management app with calendar views and RSVP functionality"},{text:"Podcast player",prompt:"Design an audio podcast player with playlist creation and speed controls"},{text:"Habit tracker",prompt:"Build a habit tracking app with streaks, reminders and progress visualization"},{text:"Photo gallery",prompt:"Create a photo gallery app with albums, tagging and sharing capabilities"},{text:"Language learning",prompt:"Design a language learning app with flashcards and pronunciation practice"},{text:"Meditation app",prompt:"Build a meditation app with guided sessions and progress tracking"},{text:"Donation platform",prompt:"Create a crowdfunding platform for charitable causes with payment processing"},{text:"Meal planner",prompt:"Design a weekly meal planning app with grocery list generation"},{text:"Movie database",prompt:"Build a film and TV show database with reviews and watchlist features"},{text:"Inventory system",prompt:"Create an inventory management system with barcode scanning and alerts"},{text:"Dictionary app",prompt:"Design a dictionary and thesaurus app with word of the day feature"},{text:"Restaurant finder",prompt:"Build a restaurant discovery app with ratings, menus and reservation booking"},{text:"Music player",prompt:"Create a music player with playlist management and audio visualization"},{text:"Flashcard app",prompt:"Design a flashcard app for studying with spaced repetition algorithm"}],c=e=>{let{onPromptSubmit:t,isLoading:a,initialPromptValue:i,onPresetClick:c,onPublicToggle:x,onBuildModeToggle:m}=e,u=(0,s.useRef)(null),h=(0,s.useRef)(null),[g,p]=(0,s.useState)([]);return(0,s.useEffect)(()=>{u.current&&u.current.play().catch(e=>{console.log("Auto-play was prevented:",e)}),p([...d].sort(()=>.5-Math.random()).slice(0,4))},[]),(0,r.jsxs)("section",{ref:h,className:"relative bg-gray-900 overflow-hidden flex flex-col h-screen min-h-[800px] sm:min-h-screen",children:[(0,r.jsxs)("div",{className:"fixed inset-0 w-full h-full z-0",children:[(0,r.jsx)("video",{ref:u,className:"fixed inset-0 w-full h-full object-cover opacity-40",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,children:(0,r.jsx)("source",{src:"https://static.deal.ai/famous/world.mp4",type:"video/mp4"})}),(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-900/70 z-10"})]}),(0,r.jsx)("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-purple-800/20 via-gray-900/5 to-gray-900 z-10"}),(0,r.jsx)("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-orange-500 rounded-full blur-3xl opacity-10 z-10"}),(0,r.jsx)("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-purple-600 rounded-full blur-3xl opacity-10 z-10"}),(0,r.jsx)("div",{className:"relative z-50",children:(0,r.jsx)("div",{className:"max-w-full mx-auto px-4 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-8",children:[(0,r.jsx)(n(),{href:"/",className:"flex items-center",children:(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)("img",{src:"/famous_tp_black.png",alt:"Famous.ai",width:140,className:"brightness-0 invert"})})}),(0,r.jsx)(o.A,{})]})})}),(0,r.jsxs)("div",{className:"relative z-20 container mx-auto px-4 flex flex-col justify-center h-[calc(100vh-80px)] min-h-[700px] sm:min-h-[calc(100vh-80px)]",children:[(0,r.jsxs)("div",{className:"w-full max-w-4xl mx-auto text-center",children:[(0,r.jsx)("h3",{className:"text-5xl xs:text-5xl sm:text-6xl md:text-6xl font-extrabold text-white mb-6",children:(0,r.jsx)("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-orange-500 to-purple-600",children:"Idea to app, instantly."})}),(0,r.jsx)("p",{className:"text-lg sm:text-xl md:text-xl text-gray-300 mb-8 sm:mb-12 max-w-3xl mx-auto",children:"Powered by Synthetic Intelligence."}),(0,r.jsx)("div",{className:"mb-8 sm:mb-12",children:(0,r.jsx)(l.A,{onSubmit:t,isLoading:a,initialValue:i,onPublicToggle:x,onBuildModeToggle:m})})]}),(0,r.jsx)("div",{className:"w-full max-w-4xl mx-auto",children:(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:g.map((e,t)=>(0,r.jsx)("button",{className:"px-4 py-2 bg-gray-800 rounded-xl text-gray-300 hover:bg-gray-700 transition-colors border border-gray-600 hover:border-gray-600 flex items-center justify-center shadow-lg",onClick:()=>c(e.prompt),children:(0,r.jsx)("span",{children:e.text})},t))})})]})]})}},19319:(e,t,a)=>{"use strict";a.d(t,{B:()=>s});var r=a(74848);a(96540);let s=e=>{let t=/(https?:\/\/[^\s]+)/g;return e.split(t).map((e,a)=>e.match(t)?(0,r.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"underline",children:e},a):e)}},99798:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ei});var r=a(74848),s=a(96540),l=a(86715),i=a(13368),n=a.n(i),o=a(91106),d=a.n(o),c=a(46059),x=a(43442),m=a(28266),u=a(53590),h=a(804),g=a(56191);let p=e=>{let{isOpen:t,onClose:a,onProjectCreated:i}=e,n=(0,l.useRouter)(),[o,d]=(0,s.useState)(!1),[x,p]=(0,s.useState)(""),[b,y]=(0,s.useState)([]),{isAuthenticated:f}=(0,c.A)(),[j,k]=(0,s.useState)(null),[v,w]=(0,s.useState)(!1),[N,C]=(0,s.useState)(!1);(0,s.useEffect)(()=>{t?y([...u.P].sort(()=>.5-Math.random()).slice(0,4)):p("")},[t]);let S=(0,s.useCallback)(e=>!1!==e||f&&j?!1!==e||null!=j&&!!j.tier&&(null==j?void 0:j.tier)!==h.i.FREE||(C(!0),!1):(console.error("User not authenticated in whitelabel mode"),!1),[j,f]),E=(0,s.useCallback)(e=>!0!==e||f&&j?!0!==e||null!=j&&!!j.tier&&(null==j?void 0:j.tier)!==h.i.FREE||(C(!0),!1):(console.error("User not authenticated in whitelabel mode"),!1),[j,f]),L=(0,s.useCallback)(async(e,t,r,s)=>{if(!f){console.error("User not authenticated in whitelabel mode");return}d(!0);try{let l=await fetch("/api/projects/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e,attachments:t||[],platform:r||"website",isPublic:void 0===s||s})});if(402===l.status&&(await l.json()).requiresUpgrade){alert("Please upgrade your subscription to create more projects."),d(!1);return}if(!l.ok)throw Error("Failed to create project");let o=await l.json(),c=o.project._id,x=o.project.activeMessageId;localStorage.setItem("activeMessageId:".concat(c),x),a(),i&&i(),n.push("/project/".concat(c))}catch(e){console.error("Error creating project:",e),alert("Failed to create project. Please try again."),d(!1)}},[f,n,a,i]),P=(0,s.useCallback)(async()=>{if(f)try{w(!0);let e=await fetch("/api/subscription");if(e.ok){let t=await e.json();t.subscription&&k(t.subscription)}else console.error("Failed to fetch subscription data")}catch(e){console.error("Error fetching subscription data:",e)}finally{w(!1)}},[f]);return((0,s.useEffect)(()=>{P()},[P,f]),(0,s.useCallback)(e=>{p(e)},[]),t)?(0,r.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[(0,r.jsx)("div",{className:"bg-gray-900 rounded-lg w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold text-white",children:"Create New Project"}),(0,r.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-300",disabled:o,children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)("div",{className:"relative mb-6",children:(0,r.jsx)(m.A,{onSubmit:L,isLoading:o,initialValue:x,onPublicToggle:S,onBuildModeToggle:E})})})]})}),j&&(0,r.jsx)(g.A,{isOpen:N,onClose:()=>{C(!1)},currentTier:j.tier,currentUsage:j.messageCount,currentLimit:j.limit,subscriptionData:j})]}):null};var b=a(62636);function y(){let[e,t]=(0,s.useState)([]),[a,i]=(0,s.useState)(!0),[n,o]=(0,s.useState)([]),[c,m]=(0,s.useState)(!0),[u,h]=(0,s.useState)(!1),[g,y]=(0,s.useState)(null),[f,j]=(0,s.useState)(null),[k,v]=(0,s.useState)(null),[w,N]=(0,s.useState)(!0),[C,S]=(0,s.useState)(""),[E,L]=(0,s.useState)(""),[P]=(0,s.useState)(66),[M,T]=(0,s.useState)(!0),[F,U]=(0,s.useState)(!1),{isWhitelabel:A,whitelabelConfig:B}=(0,x.p)(),D=(0,l.useRouter)();(0,s.useEffect)(()=>{let e=setTimeout(()=>{L(C)},300);return()=>clearTimeout(e)},[C]);let R=e=>{switch(e){case"mobile":return(0,r.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})});case"crypto":return(0,r.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return(0,r.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})})}},_=e=>{switch(e){case"mobile":return"Mobile App";case"crypto":return"Crypto";default:return"Website"}},z=()=>(0,r.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})}),I=()=>(0,r.jsxs)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{d:"M2 4v16"}),(0,r.jsx)("path",{d:"M2 8h18a2 2 0 0 1 2 2v10"}),(0,r.jsx)("path",{d:"M2 17h20"}),(0,r.jsx)("path",{d:"M6 8v9"})]}),H=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=[];return a.push({key:"platform",icon:R(e.platform||"website"),tooltip:_(e.platform||"website")}),e.supabaseProjectId&&a.push({key:"database",icon:z(),tooltip:"Has Database"}),e.isSleeping&&a.push({key:"sleep",icon:I(),tooltip:"Sleeping"}),(0,r.jsx)("div",{className:"flex-shrink-0 flex space-x-1",children:a.map((a,s)=>(0,r.jsxs)("div",{className:"relative",onMouseEnter:()=>j("".concat(t).concat(e._id,"-").concat(a.key)),onMouseLeave:()=>j(null),children:[a.icon,f==="".concat(t).concat(e._id,"-").concat(a.key)&&(0,r.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-600 text-white text-xs rounded shadow-lg whitespace-nowrap z-10",children:[a.tooltip,(0,r.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-600"})]})]},a.key))})},O=(0,s.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;try{a?U(!0):i(!0);let s=new URLSearchParams({limit:P.toString(),skip:(a?r:0).toString()});e.trim()&&s.append("search",e.trim());let l=await fetch("/api/projects?".concat(s));if(l.ok){let e=(await l.json()).projects||[];a?t(t=>[...t,...e]):t(e),T(e.length===P)}else console.error("Failed to fetch projects")}catch(e){console.error("Error fetching projects:",e)}finally{i(!1),U(!1)}},[P]),W=(0,s.useCallback)(async()=>{try{m(!0);let e=await fetch("/api/projects/pinned");if(e.ok){let t=await e.json();o(t.projects||[])}else console.error("Failed to fetch projects")}catch(e){console.error("Error fetching projects:",e)}finally{m(!1)}},[]),V=(0,s.useCallback)(async()=>{try{N(!0);let e=await fetch("/api/projects/stats");if(e.ok){let t=await e.json();v(t)}else console.error("Failed to fetch project stats")}catch(e){console.error("Error fetching project stats:",e)}finally{N(!1)}},[]);(0,s.useEffect)(()=>{O(E)},[E,O]),(0,s.useEffect)(()=>{W(),V()},[W,V]);let J=(0,s.useCallback)(()=>{!F&&M&&O(E,!0,e.length)},[E,O,F,M,e.length]),q=async e=>{if(e&&!g)try{y(e);let t=await fetch("/api/projects/clone",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to clone project")}let a=await t.json();b.Ay.success("Project cloned successfully!"),D.push("/project/".concat(a.project._id))}catch(e){console.error("Error cloning project:",e),b.Ay.error("Failed to clone project: ".concat(e.message))}finally{y(null)}},Y=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"md:hidden",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,r.jsx)("h2",{className:"text-xl font-medium text-gray-900 dark:text-white",children:"Your Projects"}),A&&(null==B?void 0:B.homepageEnabled)!==!0?(0,r.jsx)("button",{onClick:()=>h(!0),className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md text-sm transition-colors whitespace-nowrap ml-4 flex-shrink-0",children:"New Project"}):(0,r.jsx)(d(),{href:"/",className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md text-sm transition-colors whitespace-nowrap ml-4 flex-shrink-0",children:"New Project"})]}),!w&&k&&(0,r.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-8 leading-relaxed",children:["You currently have ",k.live," live ",1===k.live?"project":"projects"," being hosted and ",k.sleeping," sleeping ",1===k.sleeping?"project":"projects",". Per our ",(0,r.jsx)(d(),{target:"_blank",href:"/usage",className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 underline",children:"Fair Hosting Pricing Policy"}),", you only incur hosting fees for projects that are live."]})]}),(0,r.jsxs)("div",{className:"hidden md:flex md:justify-between md:items-start mb-6",children:[(0,r.jsxs)("div",{className:"mr-8 lg:mr-12",children:[(0,r.jsx)("h2",{className:"text-xl font-medium text-gray-900 dark:text-white",children:"Your Projects"}),!w&&k&&(0,r.jsxs)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400 leading-relaxed",children:["You currently have ",k.live," live ",1===k.live?"project":"projects"," being hosted and ",k.sleeping," sleeping ",1===k.sleeping?"project":"projects",". Per our ",(0,r.jsx)(d(),{target:"_blank",href:"/usage",className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 underline",children:"Fair Hosting Pricing Policy"}),", you only incur hosting fees for projects that are live."]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"text",placeholder:"Search projects...",value:C,onChange:e=>S(e.target.value),className:"w-64 lg:w-72 px-3 py-2 pl-9 pr-8 text-sm bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:text-white dark:placeholder-gray-400"}),(0,r.jsx)("svg",{className:"absolute left-2.5 top-2.5 w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),C&&(0,r.jsx)("button",{onClick:()=>S(""),className:"absolute right-2 top-2 p-0.5 rounded hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",title:"Clear search",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),A&&(null==B?void 0:B.homepageEnabled)!==!0?(0,r.jsx)("button",{onClick:()=>h(!0),className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md text-sm transition-colors whitespace-nowrap",children:"New Project"}):(0,r.jsx)(d(),{href:"/",className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md text-sm transition-colors whitespace-nowrap",children:"New Project"})]})]}),(0,r.jsx)("div",{className:"mb-6 md:hidden",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"text",placeholder:"Search projects...",value:C,onChange:e=>S(e.target.value),className:"w-full px-4 py-3 pl-10 text-sm bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:text-white dark:placeholder-gray-400"}),(0,r.jsx)("svg",{className:"absolute left-3 top-3.5 w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),C&&(0,r.jsx)("button",{onClick:()=>S(""),className:"absolute right-3 top-3 p-0.5 rounded hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",title:"Clear search",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}),E&&(0,r.jsx)("div",{className:"mb-6 -mt-2 text-xs text-gray-500 dark:text-gray-400",children:a?"Searching...":'Showing results for "'.concat(E,'"')}),a||c?(0,r.jsx)("div",{className:"flex justify-center py-8",children:(0,r.jsxs)("svg",{className:"animate-spin h-8 w-8 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):0===e.length?(0,r.jsx)("div",{className:"text-center py-8 bg-gray-50 dark:bg-gray-700 rounded-md",children:E?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"h-12 w-12 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,r.jsx)("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:"No projects found. Try a different search."}),(0,r.jsx)("button",{onClick:()=>S(""),className:"mt-4 inline-block bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md text-sm transition-colors",children:"Clear Search"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"h-12 w-12 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),(0,r.jsx)("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:"No projects yet. Create one to get started!"}),A&&(null==B?void 0:B.homepageEnabled)!==!0?(0,r.jsx)("button",{onClick:()=>h(!0),className:"mt-4 inline-block bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md text-sm transition-colors",children:"Create Project"}):(0,r.jsx)(d(),{href:"/",className:"mt-4 inline-block bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md text-sm transition-colors",children:"Create Project"})]})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,r.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0 pr-2",children:[(0,r.jsx)("div",{className:"flex items-center flex-wrap",children:(0,r.jsx)("h3",{className:"text-base font-semibold text-gray-900 dark:text-white line-clamp-1 break-words truncate",children:e.title||e.slug})}),e.title&&(0,r.jsx)("span",{className:"text-xs text-gray-300 break-words truncate",children:e.slug}),(0,r.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400 line-clamp-2 h-8 leading-4 break-words",children:e.description||e.prompt}),(0,r.jsxs)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:["Updated: ",Y(e.updatedAt||e.createdAt)]})]}),H(e)]}),(0,r.jsxs)("div",{className:"mt-3 flex space-x-2",children:[(0,r.jsx)(d(),{href:"/project/".concat(e._id),className:"flex-1 text-center px-2 py-1.5 bg-gray-100 dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-xs font-medium transition-colors",children:"View"}),(0,r.jsx)(d(),{href:"/project/".concat(e._id,"/settings"),className:"flex-1 text-center px-2 py-1.5 bg-gray-100 dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700/50 text-xs font-medium transition-colors",children:"Settings"})]})]},e._id))}),M&&!a&&(0,r.jsx)("div",{className:"mt-6 flex justify-center",children:(0,r.jsx)("button",{onClick:J,disabled:F,className:"px-6 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 font-medium text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:F?"Loading...":"Load More"})})]})]}),A&&!a&&!c&&n.length>0&&(0,r.jsxs)("div",{className:"mt-8 bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[(0,r.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,r.jsx)("h2",{className:"text-xl font-medium text-gray-900 dark:text-white",children:"Pinned Projects"})}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"hidden sm:block overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,r.jsx)("thead",{className:"",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Project"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Added"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:n.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white break-words",children:e.title}),(0,r.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 truncate max-w-xs break-words",children:e.description})]})})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:Y(e.pinnedAt||e.createdAt)}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,r.jsx)("a",{href:"https://".concat(e.slug,".").concat("deploypad.app"),target:"_blank",rel:"noopener noreferrer",className:"inline-block px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-md text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 mr-2 transition-colors",children:"View"}),(0,r.jsx)("button",{onClick:()=>q(e._id),className:"inline-block px-3 py-1 border border-gray-300 dark:border-purple-600 rounded-md text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/50 transition-colors",children:g===e._id?"Cloning...":"Clone"})]})]},e._id))})]})}),(0,r.jsx)("div",{className:"sm:hidden space-y-4",children:n.map(e=>(0,r.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0 pr-2",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("h3",{className:"text-base font-semibold text-gray-900 dark:text-white break-words truncate",children:e.title})}),(0,r.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400 line-clamp-2 h-8 leading-4 break-words",children:e.description}),(0,r.jsxs)("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:["Added: ",Y(e.pinnedAt||e.createdAt)]})]}),H(e,"pinned-")]}),(0,r.jsxs)("div",{className:"mt-3 flex space-x-2",children:[(0,r.jsx)("a",{href:"https://".concat(e.slug,".").concat("deploypad.app"),target:"_blank",rel:"noopener noreferrer",className:"flex-1 text-center px-2 py-1.5 bg-gray-100 dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-xs font-medium transition-colors",children:"View"}),(0,r.jsx)(d(),{href:"/project/".concat(e._id,"/settings"),className:"flex-1 text-center px-2 py-1.5 bg-gray-100 dark:bg-gray-600 border border-purple-300 dark:border-purple-500 rounded text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/50 text-xs font-medium transition-colors",children:"Clone"})]})]},e._id))})]})]}),(0,r.jsx)(p,{isOpen:u,onClose:()=>h(!1),onProjectCreated:()=>{O(E),V()}})]})}var f=a(61954);function j(e){let{isOpen:t,onClose:a}=e,[l,i]=(0,s.useState)(null),[n,o]=(0,s.useState)(!1),[d,c]=(0,s.useState)(null),x=async()=>{try{o(!0);let e=await fetch("/api/invoice/current-usage");if(!e.ok)throw Error("Failed to fetch hosting data");let t=await e.json();i(t)}catch(e){console.error("Error fetching hosting data:",e),b.oR.error("Failed to load hosting data")}finally{o(!1)}};(0,s.useEffect)(()=>{t?x():c(null)},[t]);let m=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),u=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),h=(e,t,a)=>a===f.Yt.BUILD_CREDIT?"$".concat(e.toLocaleString()):"".concat(e.toLocaleString()," ").concat(t),g=e=>{c(e)};return t?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-4xl w-full max-h-[80vh] flex flex-col",children:[(0,r.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:d?"".concat(d.name," - Details"):"Hosting Overview"}),(null==l?void 0:l.hasUsage)&&l.periodStart&&l.periodEnd&&!d&&(0,r.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Current Billing Cycle: ",m(l.periodStart)," - ",m(l.periodEnd)]}),!d&&(0,r.jsx)("a",{href:"/usage",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 underline mt-1 inline-block",children:"Learn more about hosting pricing"})]}),(0,r.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:d?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"flex items-center space-x-3 pb-4 border-b border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("button",{onClick:()=>{c(null)},className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 flex items-center space-x-1",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),(0,r.jsx)("span",{className:"text-sm",children:"Back to overview"})]})}),(0,r.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-md p-4 border border-gray-200 dark:border-gray-600",children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:d.name}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Total Quantity:"}),(0,r.jsx)("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:h(d.quantity,d.unit,d.product)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Total Cost:"}),(0,r.jsx)("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:u(d.price)})]})]})]}),d.metadata&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h5",{className:"font-medium text-gray-900 dark:text-white",children:"Hosting Details"}),d.metadata.actions&&(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-md",children:[(0,r.jsx)("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-600",children:(0,r.jsx)("h6",{className:"font-medium text-gray-900 dark:text-white",children:"Database Actions"})}),(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)("div",{className:"space-y-2",children:d.metadata.actions.map((e,t)=>(0,r.jsxs)("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 dark:bg-gray-700 rounded",children:[(0,r.jsx)("span",{className:"text-sm text-gray-900 dark:text-white font-mono",children:e.action}),(0,r.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.quantity.toLocaleString()," ",1===e.quantity?"time":"times"]})]},t))})})]}),d.metadata.projects&&(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-md",children:[(0,r.jsx)("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-600",children:(0,r.jsx)("h6",{className:"font-medium text-gray-900 dark:text-white",children:"Projects"})}),(0,r.jsx)("div",{className:"p-4",children:(0,r.jsxs)("div",{className:"space-y-2",children:[d.metadata.projects.length>0&&"number"==typeof d.metadata.projects[0].quantity&&d.metadata.projects.map((e,t)=>(0,r.jsxs)("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 dark:bg-gray-700 rounded",children:[(0,r.jsx)("span",{className:"text-sm text-gray-900 dark:text-white font-mono",children:e.project}),(0,r.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.quantity.toLocaleString()," ",d.unit]})]},t)),d.metadata.projects.length>0&&"number"==typeof d.metadata.projects[0].spend&&d.metadata.projects.map((e,t)=>(0,r.jsxs)("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 dark:bg-gray-700 rounded",children:[(0,r.jsx)("span",{className:"text-sm text-gray-900 dark:text-white font-mono",children:e.project}),(0,r.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["$",e.spend.toLocaleString()]})]},t))]})})]}),d.metadata.files&&(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-md",children:[(0,r.jsx)("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-600",children:(0,r.jsx)("h6",{className:"font-medium text-gray-900 dark:text-white",children:"Files"})}),(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)("div",{className:"space-y-2",children:d.metadata.files.map((e,t)=>(0,r.jsx)("div",{className:"py-2 px-3 bg-gray-50 dark:bg-gray-700 rounded",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("div",{className:"text-sm text-gray-900 dark:text-white font-medium truncate",children:e.filename}),e.contentType&&(0,r.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:e.contentType})]}),(0,r.jsxs)("div",{className:"text-right ml-4",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.size.toLocaleString()," MB"]}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.quantity," ",1===e.quantity?"download":"downloads"]})]})]})},t))})})]}),!d.metadata.actions&&!d.metadata.projects&&!d.metadata.files&&(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No detailed breakdown available for this hosting type."})})]})]}):n?(0,r.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading hosting data..."})]})}):(null==l?void 0:l.hasUsage)?(0,r.jsxs)("div",{className:"space-y-4",children:[l.totalCost>0&&(0,r.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-md p-4 border border-gray-200 dark:border-gray-600",children:(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:u(l.totalCost)}),(0,r.jsx)("div",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 mt-0.5",children:"Total Hosting This Period"}),l.totalSavings>0&&(0,r.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["You saved"," ",(0,r.jsx)("span",{className:"text-green-600 dark:text-green-400",children:u(l.totalSavings)})]})]}),(0,r.jsxs)("div",{className:"text-center border-l border-gray-200 dark:border-gray-600 ",children:[(0,r.jsx)("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:u(l.chargedAmount)}),(0,r.jsx)("div",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 mt-0.5",children:"Already Charged"})]}),(0,r.jsxs)("div",{className:"text-center border-l border-gray-200 dark:border-gray-600",children:[(0,r.jsx)("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:u(l.pendingAmount)}),(0,r.jsx)("div",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 mt-0.5",children:"Pending"})]})]})}),(0,r.jsx)("div",{className:"space-y-1",children:l.usage.map((e,t)=>{var a;return(0,r.jsxs)("div",{onClick:()=>g(e),className:"flex items-center justify-between py-3 px-2 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-md border-b border-gray-100 dark:border-gray-700 last:border-b-0 cursor-pointer transition-colors",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 flex-1",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:[e.name,(null===(a=e.breakdown)||void 0===a?void 0:a.tierIndex)&&e.product!==f.Yt.BUILD_CREDIT&&(0,r.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-normal ml-1",children:["(Tier ",e.breakdown.tierIndex,")"]}),e.discountPercentage>0&&(0,r.jsx)("span",{className:"text-xs text-emerald-600 dark:text-emerald-400 font-normal ml-2",children:e.discountTitle?(0,r.jsx)(r.Fragment,{children:" "===e.discountTitle?" ":(0,r.jsxs)(r.Fragment,{children:[e.discountPercentage,"% ",e.discountTitle," discount"]})}):(0,r.jsxs)(r.Fragment,{children:[e.discountPercentage,"% ",(l.tier||"").charAt(0).toUpperCase()+(l.tier||"").slice(1)," plan discount"]})})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[h(e.quantity,e.unit,e.product),e.breakdown&&e.breakdown.flatFee>0&&(0,r.jsxs)("span",{className:"ml-2",children:["• Base: ",u(e.breakdown.flatFee),e.breakdown.unitCost>0&&(0,r.jsxs)("span",{children:[" + ",u(e.breakdown.unitCost)," overage"]})]})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:e.discountPercentage>0?(0,r.jsxs)("span",{className:"flex items-center justify-end gap-2",children:[e.originalPrice>0&&e.originalPrice!==e.price&&(0,r.jsx)("span",{className:"line-through text-gray-500 dark:text-gray-400",children:u(e.originalPrice)}),(0,r.jsx)("span",{children:u(e.price)})]}):u(e.price)}),e.breakdown&&e.product!==f.Yt.BUILD_CREDIT&&(0,r.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.breakdown.tier}),e.product===f.Yt.BUILD_CREDIT&&(0,r.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.metadata.projects.length," project",1===e.metadata.projects.length?"":"s"]})]}),(0,r.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]},"".concat(e.product,"-").concat(t))})}),0===l.usage.length&&l.hasUsage&&(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19c-5 0-8-3-8-8s3-8 8-8 8 3 8 8-3 8-8 8zm0-8h4m-4 0V9m0 2v4"})}),(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No hosting recorded for this period"})]})]}):(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsxs)("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{d:"m12 14 4-4"}),(0,r.jsx)("path",{d:"M3.34 19a10 10 0 1 1 17.32 0"})]}),(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:(null==l?void 0:l.message)||"No hosting data available"})]})})]})}):null}function k(e){let{onManageSubscription:t}=e,{user:a}=(0,c.A)(),[i,n]=(0,s.useState)(null),[o,d]=(0,s.useState)(!1),[m,u]=(0,s.useState)(!1),[p,y]=(0,s.useState)(!1),{showUsage:f}=(0,l.useRouter)().query,{isWhitelabel:k,whitelabelConfig:v}=(0,x.p)();(0,s.useEffect)(()=>{f&&y(!0)},[f]);let w=(0,s.useCallback)(async()=>{try{d(!0);let e=await fetch("/api/subscription");if(e.ok){let t=await e.json();t.subscription&&n(t.subscription)}else console.error("Failed to fetch subscription data")}catch(e){console.error("Error fetching subscription data:",e)}finally{d(!1)}},[]);(0,s.useEffect)(()=>{w()},[w]);let N=async()=>{if(window.confirm("Are you sure you want to cancel this pending downgrade?"))try{let e=await fetch("/api/subscription/cancel-downgrade",{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to cancel downgrade")}await new Promise(e=>setTimeout(e,3e3)),await w(),b.oR.success("Downgrade cancelled successfully!")}catch(e){b.oR.error("Error: ".concat(e.message))}};return(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-medium text-gray-900 dark:text-white mb-4",children:"Subscription"}),o?(0,r.jsx)("div",{className:"flex justify-center py-6",children:(0,r.jsxs)("svg",{className:"animate-spin h-8 w-8 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Plan"}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"text-gray-900 dark:text-white capitalize text-lg font-medium",children:(null==i?void 0:i.tier)||(null==a?void 0:a.tier)||"Free"}),(null==i?void 0:i.tierInfo)&&(0,r.jsx)("div",{className:"ml-2 text-gray-500 dark:text-gray-400 text-sm",children:i.monthlyPrice&&i.monthlyPrice>0?"$".concat(i.monthlyPrice,"/month"):"Free plan"})]}),(null==i?void 0:i.downgradeTierInfo)&&(0,r.jsx)("div",{className:"mt-3 p-3 bg-gray-100 dark:bg-gray-600 rounded-md border border-gray-200 dark:border-gray-500",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[(0,r.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:["Plan will change to"," ",(0,r.jsx)("span",{className:"font-medium capitalize",children:i.downgradeTierInfo.name}),i.downgradeMonthlyPrice>0&&(0,r.jsxs)("span",{children:[" ","($",i.downgradeMonthlyPrice,"/month)"]})," ","at the end of your current billing period."]}),(0,r.jsx)("button",{onClick:()=>N(),className:"text-xs text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium mt-2 sm:mt-0 flex-shrink-0",children:"Don't Downgrade"})]})}),(null==i?void 0:i.stripeSubscriptionStatus)&&("past_due"===i.stripeSubscriptionStatus||"incomplete"===i.stripeSubscriptionStatus)&&(0,r.jsx)("div",{className:"mt-3 p-4 bg-red-50 dark:bg-red-900/20 rounded-md border border-red-200 dark:border-red-700",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-red-600 dark:text-red-400 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Payment Issue"}),(0,r.jsx)("p",{className:"text-sm text-red-700 dark:text-red-300",children:"There was a problem renewing your subscription."})]})]}),(0,r.jsx)("button",{onClick:async()=>{try{let e=await fetch("/api/subscription/portal",{method:"POST"});if(e.ok){let{url:t}=await e.json();t&&(window.location.href=t)}else{let t=await e.json();throw Error(t.error||"Failed to create portal session")}}catch(e){console.error("Error accessing billing portal:",e),b.oR.error(e.message||"Unable to access the billing portal at this time.")}},className:"px-3 py-2 bg-red-600 hover:bg-red-700 text-white text-sm font-medium rounded-md transition-colors flex-shrink-0",children:"Fix It"})]})})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[(null==i?void 0:i.tier)===h.i.FREE?(0,r.jsxs)(r.Fragment,{children:["Monthly"," "]}):null,"Build Credit Used"]}),i?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,r.jsxs)("span",{className:"text-gray-600 dark:text-gray-400 text-sm",children:["$",(i.monthlyBuildSpend||0).toFixed(2)," of $",i.monthlyBuildCredit||0," build credit used"]}),(0,r.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[Math.round((i.monthlyBuildSpend||0)/Math.max(1,i.monthlyBuildCredit)*100),"%"]})]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2 mb-2",children:(0,r.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(Math.min(100,(i.monthlyBuildSpend||0)/Math.max(1,i.monthlyBuildCredit)*100),"%")}})}),(0,r.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:[i.tier===h.i.FREE&&(0,r.jsxs)(r.Fragment,{children:["Daily limit resets at midnight UTC."," "]}),i.currentPeriodEnd?(0,r.jsxs)(r.Fragment,{children:[i.tier===h.i.FREE?"Monthly build credit":"Build credit"," ","resets on ",new Date(i.currentPeriodEnd).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})," at ",new Date(i.currentPeriodEnd).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",timeZoneName:"short"})]}):null]})]}):(0,r.jsx)("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Unable to load hosting data"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md text-sm transition-colors",onClick:()=>{t?t():(i||w(),u(!0))},children:"Manage Subscription"}),(null==i?void 0:i.tier)&&(null==i?void 0:i.tier)!==h.i.FREE&&(0,r.jsx)("button",{className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 font-medium text-sm transition-colors",onClick:()=>y(!0),children:"View Hosting"})]})]}),(null==i?void 0:i.tierInfo)&&(0,r.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-3",children:"Plan Features"}),(0,r.jsx)("ul",{className:"space-y-2",children:i.tierInfo.features.map((e,t)=>(0,r.jsxs)("li",{className:"flex items-start",children:[(0,r.jsx)("svg",{className:"w-5 h-5 mr-2 text-green-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,r.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:k?e.replaceAll(/famous.ai/ig,(null==v?void 0:v.siteName)||"platform"):e})]},t))})]})]}),m&&i&&(0,r.jsx)(g.A,{isOpen:m,onClose:()=>u(!1),currentTier:i.tier,currentUsage:i.monthlyCount||0,currentLimit:i.monthlyLimit||0,subscriptionData:i}),(0,r.jsx)(j,{isOpen:p,onClose:()=>y(!1)})]})}var v=a(33013);function w(){let e=(0,l.useRouter)(),{user:t,refreshUserData:a}=(0,c.A)(),[i,n]=(0,s.useState)(!1),[o,d]=(0,s.useState)(!1),[x,m]=(0,s.useState)(),[u,h]=(0,s.useState)(!1),[g,p]=(0,s.useState)(),[y,f]=(0,s.useState)(!1),[j,k]=(0,s.useState)(!1),[w,L]=(0,s.useState)(!1),P=(0,s.useCallback)(async()=>{try{let e=await fetch("/api/users/supabase-status");if(e.ok){let t=await e.json();k(!!t.hasKey)}else console.error("Failed to fetch Supabase key status")}catch(e){console.error("Error checking Supabase key status:",e)}},[]);(0,s.useEffect)(()=>{P()},[P]);let M=async(e,t)=>{let a=await fetch("/api/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:e,newPassword:t})});if(!a.ok)throw Error((await a.json()).error||"Failed to change password");b.oR.success("Password changed successfully!"),n(!1)},T=async e=>{try{m(void 0);let r=await fetch("/api/users/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e})});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to update name")}t&&(t.name=e),await a(),setTimeout(()=>{d(!1),b.oR.success("Name updated successfully!")})}catch(e){m(e.message)}},F=async e=>{try{p(void 0),f(!1);let t=await fetch("/api/users/supabase",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:e})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to save Supabase access token")}f(!0),k(!0),setTimeout(()=>{h(!1),f(!1)},2e3)}catch(e){p(e.message),f(!1)}},U=async()=>{try{let e=await fetch("/api/users/supabase",{method:"DELETE"});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to delete Supabase access token")}k(!1),L(!1)}catch(e){b.oR.error("Error: ".concat(e.message))}},A=async()=>{await (0,v.signOut)({redirect:!1}),e.push("/login")};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-medium text-gray-900 dark:text-white mb-4",children:"Profile"}),(0,r.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),(0,r.jsx)("div",{className:"text-gray-900 dark:text-white",children:(null==t?void 0:t.email)||"No email available"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name"}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"text-gray-900 dark:text-white",children:(null==t?void 0:t.name)||"No name available"}),(0,r.jsx)("button",{onClick:()=>d(!0),className:"ml-3 text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 text-sm",children:"Edit"})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-medium text-gray-900 dark:text-white mb-4",children:"Security"}),(0,r.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:(0,r.jsx)("div",{children:(0,r.jsx)("button",{className:"bg-gray-600 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-md text-sm transition-colors",onClick:()=>n(!0),children:"Change Password"})})})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-medium text-gray-900 dark:text-white mb-4",children:"Supabase"}),(0,r.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Access Token Status"}),(0,r.jsx)("div",{className:"flex items-center text-gray-900 dark:text-white",children:j?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"mr-2",children:"••••••••••••••••••"}),(0,r.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Set"})]}):(0,r.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"No token set"})}),(0,r.jsx)("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:"A Supabase access token is required for projects that use backend functionality like databases, authentication, or storage."})]}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md text-sm transition-colors",onClick:()=>h(!0),children:j?"Update Token":"Set Token"}),j&&(0,r.jsx)("button",{className:"text-red-500 hover:text-red-600 text-sm font-medium flex items-center",onClick:()=>L(!0),children:"Delete Token"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-medium text-gray-900 dark:text-white mb-4",children:"Session"}),(0,r.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:(0,r.jsx)("div",{children:(0,r.jsx)("button",{onClick:A,className:"bg-gray-600 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-md text-sm transition-colors",children:"Log out"})})})]})]}),i&&(0,r.jsx)(N,{isOpen:i,onClose:()=>n(!1),onSubmit:M}),u&&(0,r.jsx)(C,{isOpen:u,onClose:()=>{h(!1),p(void 0),f(!1)},onSubmit:F,error:g,success:y}),w&&(0,r.jsx)(S,{isOpen:w,onClose:()=>L(!1),onConfirm:U}),o&&(0,r.jsx)(E,{isOpen:o,onClose:()=>{d(!1),m(void 0)},currentName:(null==t?void 0:t.name)||"",onSubmit:T,error:x})]})}function N(e){let{isOpen:t,onClose:a,onSubmit:l}=e,[i,n]=(0,s.useState)(""),[o,d]=(0,s.useState)(""),[c,x]=(0,s.useState)(""),[m,u]=(0,s.useState)(),[h,g]=(0,s.useState)(!1);(0,s.useEffect)(()=>{t&&(n(""),d(""),x(""),u(void 0),g(!1))},[t]);let p=async e=>{if(e.preventDefault(),u(void 0),!i||!o||!c){u("All fields are required");return}if(o.length<8){u("New password must be at least 8 characters long");return}if(o!==c){u("New passwords do not match");return}try{g(!0),await l(i,o)}catch(e){b.oR.error(e.message||"Failed to change password")}finally{g(!1)}};return t?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Change Password"}),(0,r.jsxs)("form",{onSubmit:p,children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Password"}),(0,r.jsx)("input",{type:"password",value:i,onChange:e=>n(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Password"}),(0,r.jsx)("input",{type:"password",value:o,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm New Password"}),(0,r.jsx)("input",{type:"password",value:c,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),m&&(0,r.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:m})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,r.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-md",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:h,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md ".concat(h?"opacity-70 cursor-not-allowed":""),children:h?(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Changing..."]}):"Change Password"})]})]})]})})}):null}function C(e){let{isOpen:t,onClose:a,onSubmit:l,error:i,success:n}=e,[o,d]=(0,s.useState)(""),[c,x]=(0,s.useState)(!1),[m,u]=(0,s.useState)(!1),[h,g]=(0,s.useState)();(0,s.useEffect)(()=>{t&&(d(""),u(!1),g(void 0))},[t]),(0,s.useEffect)(()=>{n&&u(!0),i&&u(!1)},[n,i]);let p=async e=>{if(e.preventDefault(),g(void 0),!o){g("Supabase access token is required");return}if(o.length<20){g("Token appears to be too short. Supabase access tokens are typically longer.");return}try{x(!0),await l(o)}catch(e){}finally{x(!1)}};return t?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:m?"Success!":"Set Supabase Access Token"}),m?(0,r.jsxs)("div",{className:"bg-green-100 dark:bg-green-900/20 p-4 rounded-md",children:[(0,r.jsx)("p",{className:"text-sm text-green-800 dark:text-green-400",children:"Supabase access token saved successfully!"}),(0,r.jsx)("div",{className:"flex justify-end mt-4",children:(0,r.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-md",children:"Close"})})]}):(0,r.jsxs)("form",{onSubmit:p,children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Enter a Supabase Access Token"}),(0,r.jsx)("input",{type:"password",value:o,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Paste your access token here"}),(0,r.jsxs)("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:["You can find your access token in the"," ",(0,r.jsx)("a",{href:"https://supabase.com/dashboard/account/tokens",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-600 dark:text-blue-400 dark:hover:text-blue-300",children:"Supabase Dashboard → Account → Access Tokens"})]})]}),h&&(0,r.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:h}),i&&(0,r.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:i})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,r.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-md",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:c,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md ".concat(c?"opacity-70 cursor-not-allowed":""),children:c?(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Token"})]})]})]})})}):null}function S(e){let{isOpen:t,onClose:a,onConfirm:l}=e,[i,n]=(0,s.useState)(""),[o,d]=(0,s.useState)(!1),[c,x]=(0,s.useState)(!1);(0,s.useEffect)(()=>{t&&(n(""),d(!1),x(!1))},[t]);let m=async()=>{if(o){x(!0);try{await l()}finally{x(!1)}}};return t?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-red-600 dark:text-red-400 mb-4",children:"Delete Access Token"}),(0,r.jsxs)("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:["This may break projects that rely on back end functionality. To confirm, please type ",(0,r.jsx)("strong",{children:"DELETE"})," below:"]}),(0,r.jsx)("input",{type:"text",value:i,onChange:e=>{let t=e.target.value;n(t),d("DELETE"===t)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-red-500 focus:border-red-500 dark:bg-gray-700 dark:text-white mb-4",placeholder:"Type DELETE to confirm",autoComplete:"off"}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,r.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-md",disabled:c,children:"Cancel"}),(0,r.jsx)("button",{type:"button",onClick:m,disabled:!o||c,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-md ".concat(!o||c?"opacity-50 cursor-not-allowed":""),children:c?(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Deleting..."]}):"Delete Token"})]})]})})}):null}function E(e){let{isOpen:t,onClose:a,currentName:l,onSubmit:i,error:n}=e,[o,d]=(0,s.useState)(l),[c,x]=(0,s.useState)(!1),[m,u]=(0,s.useState)(!1),[h,g]=(0,s.useState)();(0,s.useEffect)(()=>{t&&(d(l),u(!1),g(void 0))},[t,l]);let p=async e=>{if(e.preventDefault(),g(void 0),!o||""===o.trim()){g("Name is required");return}try{x(!0),await i(o)}catch(e){}finally{x(!1)}};return t?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Edit Name"}),(0,r.jsxs)("form",{onSubmit:p,children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Name"}),(0,r.jsx)("input",{type:"text",value:o,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),h&&(0,r.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:h})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,r.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-md",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:c||m,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md ".concat(c||m?"opacity-70 cursor-not-allowed":""),children:c?(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):m?"Saved!":"Save"})]})]})]})})}):null}function L(e){let{isOpen:t,onClose:a,title:l,field:i,currentValue:n,onSubmit:o,placeholder:d,type:c="text",description:x}=e,[m,u]=(0,s.useState)(n),[h,g]=(0,s.useState)(!1);(0,s.useEffect)(()=>{u(n)},[n]);let p=async e=>{e.preventDefault();try{g(!0),await o(m)}catch(e){}finally{g(!1)}};return t?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:l}),(0,r.jsxs)("form",{onSubmit:p,children:[(0,r.jsxs)("div",{className:"mb-4",children:[x&&(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:x}),"textarea"===c?(0,r.jsx)("textarea",{value:m,onChange:e=>u(e.target.value),placeholder:d,rows:6,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"}):(0,r.jsx)("input",{type:c,value:m,onChange:e=>u(e.target.value),placeholder:d,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,r.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-md",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:h,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md ".concat(h?"opacity-70 cursor-not-allowed":""),children:h?"Saving...":"Save"})]})]})]})})}):null}var P=a(36347),M=a(22926);function T(e){let{onSuccess:t,isProcessing:a,setIsProcessing:l,error:i,setError:n}=e,o=(0,M.useStripe)(),d=(0,M.useElements)(),[c,x]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=()=>{x(document.documentElement.classList.contains("dark"))};e();let t=new MutationObserver(e);return t.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>t.disconnect()},[]);let m=async e=>{if(e.preventDefault(),!o||!d)return;let a=d.getElement(M.CardElement);if(a){l(!0),n(null);try{let{error:e,paymentMethod:r}=await o.createPaymentMethod({type:"card",card:a});if(e)throw Error(e.message);let s=await fetch("/api/whitelabel/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paymentMethodId:r.id})}),l=await s.json();if(!s.ok)throw Error(l.error||"Payment failed");if(l.requiresAction){let{error:e,paymentIntent:t}=await o.confirmCardPayment(l.clientSecret);if(e)throw Error(e.message);if(s=await fetch("/api/whitelabel/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subscriptionId:l.subscriptionId,paymentIntentId:t.id,paymentConfirmed:!0})}),l=await s.json(),!s.ok)throw Error(l.error||"Payment confirmation failed")}b.oR.success("Successfully subscribed to White Label!"),t()}catch(t){let e=t.message||"Payment failed";n(e),b.oR.error(e)}finally{l(!1)}}};return(0,r.jsxs)("form",{onSubmit:m,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Card Details"}),(0,r.jsx)("div",{className:"p-3 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-900",children:(0,r.jsx)(M.CardElement,{options:{style:{base:{fontSize:"16px",color:c?"#ffffff":"#374151",backgroundColor:"transparent","::placeholder":{color:c?"#9CA3AF":"#6B7280"}},invalid:{color:"#EF4444"}}}})})]}),i&&(0,r.jsx)("div",{className:"p-3 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 rounded-lg text-sm",children:i}),(0,r.jsx)("div",{className:"flex space-x-3",children:(0,r.jsx)("button",{type:"submit",disabled:!o||a,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors disabled:opacity-50",children:a?"Processing...":"Subscribe Now"})})]})}function F(e){let{isOpen:t,onClose:a,showCardInput:s,setShowCardInput:l,onSubscribe:i,stripePromise:n,setShowSubscribeModal:o,fetchSettings:d,isProcessingPayment:c,setIsProcessingPayment:x,paymentError:m,setPaymentError:u}=e;return t?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:s?"Add Payment Method":"Subscription Error"}),(0,r.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),s?(0,r.jsx)(M.Elements,{stripe:n,children:(0,r.jsx)(T,{onSuccess:async()=>{o(!1),l(!1),await d()},isProcessing:c,setIsProcessing:x,error:m,setError:u})}):(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"There was an issue with your subscription. Please try again."}),m&&(0,r.jsx)("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 rounded-lg text-sm",children:m}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)("button",{onClick:()=>i(),disabled:c,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors disabled:opacity-50",children:c?"Processing...":"Try Again"}),(0,r.jsx)("button",{onClick:()=>{o(!1),u(null)},className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Cancel"})]})]})]})}):null}var U=a(86704);function A(e){let{isOpen:t,onClose:a,title:l,field:i,currentImageUrl:n,onSubmit:o,description:d}=e,[c,x]=(0,s.useState)(n||""),[m,u]=(0,s.useState)(!1);(0,s.useEffect)(()=>{x(n||"")},[n]);let h=async()=>{try{u(!0),await o(c)}catch(e){}finally{u(!1)}};return t?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-lg w-full",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:l}),d&&(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:d}),c&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Image"}),(0,r.jsxs)("div",{className:"relative inline-block",children:[(0,r.jsx)("img",{src:c,alt:"Current",className:"max-w-full max-h-32 object-contain p-0 rounded"}),(0,r.jsx)("button",{onClick:()=>{x("")},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[(0,r.jsx)("path",{d:"M18 6 6 18"}),(0,r.jsx)("path",{d:"m6 6 12 12"})]})})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c?"Replace Image":"Upload Image"}),(0,r.jsx)(U.A,{onImagesUploaded:e=>{e.length>0&&x(e[0])},maxFiles:1,showPreview:!1})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,r.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-md",children:"Cancel"}),(0,r.jsx)("button",{onClick:h,disabled:m,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md ".concat(m?"opacity-70 cursor-not-allowed":""),children:m?"Saving...":"Save"})]})]})})}):null}function B(e){let{isOpen:t,onClose:a,onSubmit:l,error:i}=e,[n,o]=(0,s.useState)(""),d=async e=>{e.preventDefault(),await l(n)};return t?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Set White Label Domain"}),(0,r.jsxs)("form",{onSubmit:d,children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Domain"}),(0,r.jsx)("input",{type:"text",value:n,onChange:e=>o(e.target.value),placeholder:"example.com or app.example.com",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"}),i&&(0,r.jsx)("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:i})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,r.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-md",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md",children:"Set Domain"})]})]})]})})}):null}var D=a(62935);function R(e){let{isOpen:t,onClose:a,domain:l}=e,{subdomain:i,domainName:n}=(0,D.i)(l),o=!i,[d,c]=(0,s.useState)({}),x=async(e,t)=>{try{await navigator.clipboard.writeText(e),c(e=>({...e,[t]:!0})),setTimeout(()=>{c(e=>({...e,[t]:!1}))},2e3)}catch(e){console.error("Failed to copy text:",e)}};return t?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsx)("div",{className:"bg-gray-800 rounded-lg max-w-lg w-full",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h3",{className:"text-xl font-medium text-white mb-4",children:"DNS Instructions"}),(0,r.jsxs)("div",{className:"bg-gray-700 rounded-md p-4 mb-6",children:[(0,r.jsx)("p",{className:"text-gray-300 mb-4",children:"Add the following DNS record to your domain:"}),o?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"text-lg font-medium text-white mb-2",children:"A Record:"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-400 text-sm mb-1",children:"Name:"}),(0,r.jsxs)("div",{className:"flex items-center bg-gray-600 rounded",children:[(0,r.jsx)("p",{className:"text-white font-mono text-sm p-2 flex-1",children:"@"}),(0,r.jsx)("button",{onClick:()=>x("@","name"),className:"px-2 hover:text-gray-200 text-gray-400",children:d.name?(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}):(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-400 text-sm mb-1",children:"Value:"}),(0,r.jsxs)("div",{className:"flex items-center bg-gray-600 rounded",children:[(0,r.jsx)("p",{className:"text-white font-mono text-sm p-2 flex-1 break-all",children:"54.173.41.224"}),(0,r.jsx)("button",{onClick:()=>x("54.173.41.224","value"),className:"px-2 hover:text-gray-200 text-gray-400",children:d.value?(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}):(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})]})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"text-lg font-medium text-white mb-2",children:"CNAME Record:"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-400 text-sm mb-1",children:"Name:"}),(0,r.jsxs)("div",{className:"flex items-center bg-gray-600 rounded",children:[(0,r.jsx)("p",{className:"text-white font-mono text-sm p-2 flex-1 break-all",children:i.toLowerCase()}),(0,r.jsx)("button",{onClick:()=>x(i.toLowerCase(),"cname-name"),className:"px-2 hover:text-gray-200 text-gray-400",children:d["cname-name"]?(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}):(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-400 text-sm mb-1",children:"Value:"}),(0,r.jsxs)("div",{className:"flex items-center bg-gray-600 rounded",children:[(0,r.jsx)("p",{className:"text-white font-mono text-sm p-2 flex-1 break-all",children:"connect.aiagentconnections.com"}),(0,r.jsx)("button",{onClick:()=>x("connect.aiagentconnections.com","cname-value"),className:"px-2 hover:text-gray-200 text-gray-400",children:d["cname-value"]?(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}):(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})]})]})]})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)("button",{onClick:a,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md px-6 py-2 text-sm transition-colors",children:"Close"})})]})})}):null}var _=a(7612);function z(e){let{isOpen:t,onClose:a,title:l,field:i,initialColor:n,onSave:o}=e,[d,c]=(0,s.useState)(n),[x,m]=(0,s.useState)(n),[u,h]=(0,s.useState)(!1);(0,s.useEffect)(()=>{c(n),m(n)},[n]),(0,s.useEffect)(()=>{m(d)},[d]);let g=async()=>{h(!0);try{await o(i,d),a()}catch(e){b.oR.error("Error: ".concat(e.message))}finally{h(!1)}},p=()=>{c(n),m(n),a()};return t?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:["Choose ",l]}),(0,r.jsx)("button",{onClick:p,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)(_.jI,{color:d,onChange:c}),(0,r.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,r.jsx)("div",{className:"w-16 h-16 rounded-lg border-2 border-gray-300 dark:border-gray-600 shadow-sm",style:{backgroundColor:d}}),(0,r.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"Preview"})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,r.jsx)("input",{type:"text",value:x,onChange:e=>{let t=e.target.value;t&&!t.startsWith("#")&&(t="#"+t),m(t),7===t.length&&/^#[0-9A-Fa-f]{6}$/.test(t)&&c(t)},onBlur:()=>{/^#[0-9A-Fa-f]{6}$/.test(x)?c(x):m(d)},className:"text-sm text-gray-600 dark:text-gray-400 font-mono bg-transparent border border-gray-300 dark:border-gray-600 rounded px-2 py-1 w-20 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"#000000",maxLength:7}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:p,disabled:u,className:"bg-gray-500 hover:bg-gray-600 disabled:opacity-50 text-white font-medium py-2 px-4 rounded-md text-sm transition-colors",children:"Cancel"}),(0,r.jsx)("button",{onClick:g,disabled:u,className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white font-medium py-2 px-4 rounded-md text-sm transition-colors",children:u?"Saving...":"Save"})]})]})]})]})}):null}function I(e){let{settings:t,setSettings:a,openEditModal:l}=e,[i,n]=(0,s.useState)(!1),[o,d]=(0,s.useState)(null),[c,x]=(0,s.useState)(!1),[m,u]=(0,s.useState)(!1),[h,g]=(0,s.useState)(),[p,y]=(0,s.useState)(null),f=(e,t,a,r)=>{d({field:e,title:t,currentImageUrl:a,description:r}),n(!0)},j=async(e,t)=>{try{let r=await fetch("/api/whitelabel/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({[e]:t||null})});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to update image")}a(a=>({...a,[e]:t||null})),b.oR.success("Image updated successfully!"),n(!1),d(null)}catch(e){b.oR.error("Error: ".concat(e.message))}},k=async e=>{try{if(!e||!e.trim()||!e.includes(".")){g("Please enter a valid domain");return}let t=await fetch("/api/whitelabel/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({whitelabelDomain:e.toLowerCase().trim()})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to add domain")}a(t=>({...t,whitelabelDomain:e.toLowerCase().trim()})),b.oR.success("Domain added successfully!"),x(!1),g(void 0)}catch(e){g(e.message)}},v=async()=>{try{if(!confirm("Are you sure you want to remove this domain?"))return;let e=await fetch("/api/whitelabel/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({whitelabelDomain:null})});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to remove domain")}a(e=>({...e,whitelabelDomain:void 0})),b.oR.success("Domain removed successfully!")}catch(e){b.oR.error("Error: ".concat(e.message))}},w=async(e,t)=>{let r=await fetch("/api/whitelabel/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({[e]:t})});if(!r.ok)throw Error((await r.json()).error||"Failed to update color");a(a=>({...a,[e]:t})),b.oR.success("Color updated successfully!")},N=(e,a)=>{let r=t[e]||"#111827";y({field:e,title:a,initialColor:r})},C=async()=>{if(confirm("Are you sure you want to reset your site's colors?"))try{let e={whitelabelPrimaryColor:"#111827",whitelabelSecondaryColor:"#1f2937",whitelabelTertiaryColor:"#2563eb"},t=await fetch("/api/whitelabel/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to reset colors")}a(t=>({...t,...e})),b.oR.success("Colors reset to default values!")}catch(e){b.oR.error("Error: ".concat(e.message))}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-medium text-gray-900 dark:text-white mb-4",children:"Domain & Branding"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"White Label Domain"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-4",children:"Set the domain name for your white label platform"}),(0,r.jsx)("div",{className:"space-y-2 mb-4",children:t.whitelabelDomain?(0,r.jsx)("div",{className:"bg-gray-100 dark:bg-gray-600 p-2 rounded",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[(0,r.jsx)("span",{className:"text-gray-900 dark:text-gray-100 font-medium break-all",children:t.whitelabelDomain}),(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,r.jsx)("button",{onClick:()=>{u(!0)},className:"text-gray-300 dark:text-gray-300 hover:text-gray-200 dark:hover:text-gray-200 text-sm border border-gray-300 dark:border-gray-500 rounded px-3 py-0.5 whitespace-nowrap",children:"Instructions"}),(0,r.jsx)("button",{onClick:v,className:"text-gray-300 dark:text-gray-300 hover:text-gray-200 dark:hover:text-gray-200 text-sm border border-gray-300 dark:border-gray-500 rounded px-3 py-0.5 whitespace-nowrap",children:"Remove"}),(0,r.jsx)("button",{onClick:()=>window.open("https://".concat(t.whitelabelDomain),"_blank"),className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 p-1",title:"Open domain",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]})]})}):(0,r.jsx)("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No domain configured"})}),(0,r.jsx)("button",{onClick:()=>x(!0),className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md text-sm transition-colors",children:t.whitelabelDomain?"Change domain":"Set white label domain"})]}),(0,r.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Site Name"}),(0,r.jsx)("div",{className:"text-gray-900 dark:text-white",children:t.whitelabelSitename||"No site name configured"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"The name that appears in the browser title and throughout your platform"})]}),(0,r.jsx)("button",{onClick:()=>l("whitelabelSitename","Site Name",t.whitelabelSitename||"",{placeholder:"My Platform",description:"Enter the name for your white label platform"}),className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 text-sm",children:"Edit"})]})}),(0,r.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Logo"}),t.whitelabelLogo?(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)("img",{src:t.whitelabelLogo,alt:"Logo",className:"max-w-48 max-h-12 object-contain p-0 rounded"})}):(0,r.jsx)("div",{className:"text-gray-900 dark:text-white",children:"No logo uploaded"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Upload your logo image (recommended: 200x200px - 1000x1000px square)"})]}),(0,r.jsx)("button",{onClick:()=>f("whitelabelLogo","Upload Logo",t.whitelabelLogo,"Upload your logo image (recommended: 200x200px - 1000x1000px square)"),className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 text-sm",children:t.whitelabelLogo?"Change":"Upload"})]})}),(0,r.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Wordmark"}),t.whitelabelWordmark?(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)("img",{src:t.whitelabelWordmark,alt:"Wordmark",className:"max-w-64 max-h-16 object-contain p-2 rounded"})}):(0,r.jsx)("div",{className:"text-gray-900 dark:text-white",children:"No wordmark uploaded"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Upload your wordmark/text logo image (recommended: 285x50px - 570x100px rectangle)"})]}),(0,r.jsx)("button",{onClick:()=>f("whitelabelWordmark","Upload Wordmark",t.whitelabelWordmark,"Upload your wordmark/text logo image (recommended: 285x50px - 570x100px rectangle)"),className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 text-sm",children:t.whitelabelWordmark?"Change":"Upload"})]})}),(0,r.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Colors"}),(0,r.jsx)("button",{onClick:C,className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 text-sm",children:"Reset"})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-4",children:"Set the primary, secondary, and tertiary colors for your platform"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Primary Color"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded border border-gray-300 dark:border-gray-500 cursor-pointer",style:{backgroundColor:t.whitelabelPrimaryColor||"#111827"},onClick:()=>N("whitelabelPrimaryColor","Primary Color")}),(0,r.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400 font-mono",children:t.whitelabelPrimaryColor||"#111827"}),(0,r.jsx)("button",{onClick:()=>N("whitelabelPrimaryColor","Primary Color"),className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 text-xs",children:"Change"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Secondary Color"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded border border-gray-300 dark:border-gray-500 cursor-pointer",style:{backgroundColor:t.whitelabelSecondaryColor||"#1f2937"},onClick:()=>N("whitelabelSecondaryColor","Secondary Color")}),(0,r.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400 font-mono",children:t.whitelabelSecondaryColor||"#1f2937"}),(0,r.jsx)("button",{onClick:()=>N("whitelabelSecondaryColor","Secondary Color"),className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 text-xs",children:"Change"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Tertiary Color"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded border border-gray-300 dark:border-gray-500 cursor-pointer",style:{backgroundColor:t.whitelabelTertiaryColor||"#2563eb"},onClick:()=>N("whitelabelTertiaryColor","Tertiary Color")}),(0,r.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400 font-mono",children:t.whitelabelTertiaryColor||"#2563eb"}),(0,r.jsx)("button",{onClick:()=>N("whitelabelTertiaryColor","Tertiary Color"),className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 text-xs",children:"Change"})]})]})]})]})]})]}),i&&o&&(0,r.jsx)(A,{isOpen:i,onClose:()=>{n(!1),d(null)},title:o.title,field:o.field,currentImageUrl:o.currentImageUrl,onSubmit:e=>j(o.field,e),description:o.description}),c&&(0,r.jsx)(B,{isOpen:c,onClose:()=>{x(!1),g(void 0)},onSubmit:k,error:h}),m&&t.whitelabelDomain&&(0,r.jsx)(R,{isOpen:m,onClose:()=>u(!1),domain:t.whitelabelDomain}),p&&(0,r.jsx)(z,{isOpen:!!p,onClose:()=>{y(null)},title:p.title,field:p.field,initialColor:p.initialColor,onSave:w})]})}function H(e){let{settings:t,openEditModal:a}=e;return(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-medium text-gray-900 dark:text-white mb-4",children:"Custom Code"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Custom Head Code"}),(0,r.jsx)("div",{className:"text-gray-900 dark:text-white text-sm",children:t.whitelabelHeadCode?"Custom code configured":"No custom head code"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Add custom HTML/CSS/JS to the <head> section (e.g., analytics, fonts)"})]}),(0,r.jsx)("button",{onClick:()=>a("whitelabelHeadCode","Custom Head Code",t.whitelabelHeadCode||"",{type:"textarea",placeholder:"<script>// Your custom code<\/script>",description:"Enter custom HTML/CSS/JS for the head section"}),className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 text-sm",children:"Edit"})]})}),(0,r.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Custom Body Code"}),(0,r.jsx)("div",{className:"text-gray-900 dark:text-white text-sm",children:t.whitelabelBodyCode?"Custom code configured":"No custom body code"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Add custom HTML/JS before the closing </body> tag"})]}),(0,r.jsx)("button",{onClick:()=>a("whitelabelBodyCode","Custom Body Code",t.whitelabelBodyCode||"",{type:"textarea",placeholder:"<script>// Your custom code<\/script>",description:"Enter custom HTML/JS for before the closing body tag"}),className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 text-sm",children:"Edit"})]})})]})]})}function O(e){let{settings:t,openEditModal:a}=e;return(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-medium text-gray-900 dark:text-white mb-4",children:"Announcements"}),(0,r.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Platform Announcement"}),(0,r.jsx)("div",{className:"text-gray-900 dark:text-white text-sm",children:t.whitelabelAnnouncement||"No announcement configured"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Display a banner announcement at the top of the dashboard"})]}),(0,r.jsx)("button",{onClick:()=>a("whitelabelAnnouncement","Platform Announcement",t.whitelabelAnnouncement||"",{type:"textarea",placeholder:"Welcome to our new platform! \uD83C\uDF89",description:"Enter an announcement to display at the top of the dashboard"}),className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 text-sm",children:"Edit"})]})})]})}function W(e){let{settings:t,setSettings:a}=e,s=async e=>{let r=t.whitelabelMultiplier||1;a(t=>({...t,whitelabelMultiplier:e}));try{let t=await fetch("/api/whitelabel/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({whitelabelMultiplier:e})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to update pricing multiplier")}b.oR.success("Pricing multiplier updated successfully!")}catch(e){a(e=>({...e,whitelabelMultiplier:r})),b.oR.error("Error: ".concat(e.message))}};return(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-medium text-gray-900 dark:text-white mb-4",children:"Pricing"}),(0,r.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Pricing Multiplier"}),(0,r.jsxs)("div",{className:"text-gray-900 dark:text-white text-lg font-semibold mb-2",children:[t.whitelabelMultiplier,"x"]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-400 mb-4",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,r.jsx)("span",{children:"Earn 40% of the base price, plus 50% of any amount over the base price"})]})]}),(0,r.jsxs)("div",{className:"relative px-3",children:[(0,r.jsxs)("div",{className:"relative h-2 bg-gray-200 dark:bg-gray-600 rounded-full mb-6",children:[(0,r.jsx)("div",{className:"absolute h-2 bg-blue-600 rounded-full transition-all duration-300",style:{width:"".concat((t.whitelabelMultiplier-1)/1*100,"%")}}),[1,1.25,1.5,1.75,2].map((e,a)=>{let l=t.whitelabelMultiplier===e;return(0,r.jsx)("button",{onClick:()=>s(e),className:"absolute top-1/2 transform -translate-y-1/2 -translate-x-1/2 w-6 h-6 rounded-full border-4 transition-all duration-200 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ".concat(l?"bg-blue-600 border-white shadow-lg scale-110":"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-500 hover:border-blue-400"),style:{left:"".concat(a/4*100,"%")},children:(0,r.jsxs)("span",{className:"sr-only",children:[e,"x"]})},e)})]}),(0,r.jsx)("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mb-2",children:[1,1.25,1.5,1.75,2].map(e=>(0,r.jsxs)("span",{className:"font-medium",children:[e,"x"]},e))})]})]})]})}var V=a(38221),J=a.n(V);function q(e){let{isOpen:t,onClose:a}=e,[l,i]=(0,s.useState)([]),[n,o]=(0,s.useState)(!1),[d,c]=(0,s.useState)(""),[x,m]=(0,s.useState)(null),[u,g]=(0,s.useState)({total:0,page:1,limit:10,pages:0}),p=(0,s.useRef)(null),y=(0,s.useRef)(null);(0,s.useEffect)(()=>{let e=e=>{y.current&&!y.current.contains(e.target)&&m(null)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[]);let f=(0,s.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];o(!0);try{let r=new URLSearchParams({page:e.toString(),limit:"10"});t&&r.append("email",t);let s=await fetch("/api/whitelabel/users?".concat(r));if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to fetch users")}let l=await s.json();a?i(e=>[...e,...l.users]):i(l.users),g(l.pagination)}catch(e){b.oR.error(e.message||"Failed to load users"),console.error("Error fetching users:",e)}finally{o(!1)}},[]);(0,s.useEffect)(()=>(p.current=J()(e=>{f(1,e)},500),()=>{var e;null===(e=p.current)||void 0===e||e.cancel()}),[f]),(0,s.useEffect)(()=>{t&&(f(1,""),c(""),m(null))},[t,f]);let j=async(e,t)=>{if(t.stopPropagation(),confirm("Are you sure you want to cancel the subscription at the end of the period for ".concat(e.email,"?"))){m(null);try{let t=await fetch("/api/whitelabel/cancel-user-at-end",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e._id})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to cancel subscription")}i(t=>t.map(t=>t._id===e._id?{...t,downgradeTier:h.i.FREE}:t)),b.oR.success("Subscription will be cancelled at period end for ".concat(e.email))}catch(e){b.oR.error(e.message||"Failed to cancel subscription"),console.error("Error cancelling subscription at period end:",e)}}},k=async(e,t)=>{if(t.stopPropagation(),e.stripeSubscriptionId){if(!confirm("Are you sure you want to cancel the subscription for ".concat(e.email," and remove them from your site?")))return}else if(!confirm("Are you sure you want to remove ".concat(e.email," from your site?")))return;m(null);try{let t=await fetch("/api/whitelabel/cancel-now-and-remove",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e._id})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to cancel subscription and remove user")}i(t=>t.filter(t=>t._id!==e._id)),g(e=>({...e,total:e.total-1})),b.oR.success("User ".concat(e.email," has been removed from your site"))}catch(e){b.oR.error(e.message||"Failed to cancel subscription and remove user"),console.error("Error cancelling subscription and removing user:",e)}},v=(e,t)=>{t.stopPropagation(),m(x===e?null:e)},w=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),N=e=>{switch(e.toLowerCase()){case"pro":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300";case"premium":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}};return t?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"User Management"}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[u.total," total users"]})]}),(0,r.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,r.jsx)("input",{type:"text",placeholder:"Search by email or name...",value:d,onChange:e=>{let t=e.target.value;c(t),p.current&&p.current(t)},className:"w-full pl-10 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"}),d&&(0,r.jsx)("button",{onClick:()=>{c(""),f(1,"")},className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto max-h-96",children:n&&0===l.length?(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading users..."})]})}):0===l.length?(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No users found"})}):(0,r.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:l.map(e=>(0,r.jsx)("div",{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"flex items-center space-x-3",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name||"No name"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.email})]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 mt-2",children:[(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(N(e.tier)),children:e.tier}),e.downgradeTier===h.i.FREE&&(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300",children:"Cancelling"}),(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(e.isEmailVerified?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-gray-500 text-gray-800 dark:bg-gray-600 dark:text-gray-300"),children:e.isEmailVerified?"Verified":"Unverified"}),(0,r.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Joined ",w(e.createdAt)]})]})]}),(0,r.jsxs)("div",{className:"relative ml-4",ref:y,children:[(0,r.jsx)("button",{onClick:t=>v(e._id,t),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-full hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),x===e._id&&(0,r.jsx)("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-700 rounded-md shadow-lg ring-1 ring-black ring-opacity-5 z-10",onClick:e=>e.stopPropagation(),children:(0,r.jsxs)("div",{className:"py-1",children:[e.stripeSubscriptionId&&(0,r.jsx)("button",{onClick:t=>j(e,t),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:"Cancel subscription at end of period"}),(0,r.jsx)("button",{onClick:t=>k(e,t),className:"block w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:e.stripeSubscriptionId?"Cancel subscription and remove from site":"Remove from site"})]})})]})]})},e._id))})}),u.page<u.pages&&(0,r.jsx)("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 text-center",children:(0,r.jsx)("button",{onClick:()=>{u.page<u.pages&&!n&&f(u.page+1,d,!0)},disabled:n,className:"px-6 py-2 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-md transition-colors disabled:opacity-50",children:n?"Loading...":"Load More (".concat(u.total-l.length," remaining)")})})]})}):null}function Y(e){let{isOpen:t,onClose:a}=e,[l,i]=(0,s.useState)(""),[n,o]=(0,s.useState)(""),[d,c]=(0,s.useState)(!1),[x,m]=(0,s.useState)(""),[u,h]=(0,s.useState)(""),g=async e=>{if(e.preventDefault(),m(""),h(""),!n||!n.trim()){m("Email is required");return}c(!0);try{let e=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:l.trim()||void 0,email:n.trim().toLowerCase(),forceOwner:!0})}),t=await e.json();if(!e.ok)throw Error(t.error||"Failed to invite user");h("User invited successfully! They will receive an email with login instructions."),b.oR.success("User invited successfully!"),i(""),o(""),setTimeout(()=>{a(),h("")},2e3)}catch(t){let e=t.message||"Failed to invite user";m(e),b.oR.error(e)}finally{c(!1)}},p=()=>{i(""),o(""),m(""),h(""),c(!1),a()};return t?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Add User"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Adds a user to your platform, and sends them an email with a verification link and a temporary password."})]}),(0,r.jsx)("button",{onClick:p,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsxs)("div",{className:"p-6",children:[x&&(0,r.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-md p-3 mb-4",children:(0,r.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:x})}),u&&(0,r.jsx)("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-md p-3 mb-4",children:(0,r.jsx)("p",{className:"text-sm text-green-600 dark:text-green-400",children:u})}),!u&&(0,r.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name (optional)"}),(0,r.jsx)("input",{id:"name",type:"text",value:l,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter user's name"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email *"}),(0,r.jsx)("input",{id:"email",type:"email",value:n,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter user's email",required:!0})]}),(0,r.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[(0,r.jsx)("button",{type:"button",onClick:p,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:d,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Sending Invite...":"Send Invite"})]})]})]})]})}):null}function $(e){let{settings:t,setSettings:a}=e,[l,i]=(0,s.useState)(!1),[n,o]=(0,s.useState)(!1),d=async e=>{let r=t.whitelabelAllowSignup;a(t=>({...t,whitelabelAllowSignup:e}));try{let t=await fetch("/api/whitelabel/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({whitelabelAllowSignup:e})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to update signup setting")}b.oR.success("Signup setting updated successfully!")}catch(e){a(e=>({...e,whitelabelAllowSignup:r})),b.oR.error("Error: ".concat(e.message))}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-medium text-gray-900 dark:text-white mb-4",children:"User Management"}),(0,r.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Total Users"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:t.userCount||0}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Users registered on your platform"})]}),(0,r.jsxs)("div",{className:"flex flex-col items-end justify-center space-y-2",children:[(0,r.jsx)("button",{onClick:()=>i(!0),className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 text-sm",children:"View Users"}),(0,r.jsx)("button",{onClick:()=>o(!0),className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 text-sm",children:"Add User"})]})]})}),(0,r.jsx)("div",{className:"mt-4 bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Enable Signup Page"}),(0,r.jsx)("div",{className:"text-gray-900 dark:text-white text-sm",children:!1!==t.whitelabelAllowSignup?"Enabled":"Disabled"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Controls whether new users can sign up on your Signup page"})]}),(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("button",{onClick:()=>d(!(!1!==t.whitelabelAllowSignup)),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ".concat(!1!==t.whitelabelAllowSignup?"bg-blue-600":"bg-gray-200 dark:bg-gray-600"),children:(0,r.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(!1!==t.whitelabelAllowSignup?"translate-x-6":"translate-x-1")})})})]})})]}),l&&(0,r.jsx)(q,{isOpen:l,onClose:()=>i(!1)}),n&&(0,r.jsx)(Y,{isOpen:n,onClose:()=>o(!1)})]})}function G(e){let{isOpen:t,onClose:a,currentType:l,currentInfo:i,onSubmit:n}=e,[o,d]=(0,s.useState)(l),[c,x]=(0,s.useState)(i||""),[m,u]=(0,s.useState)(!1);(0,s.useEffect)(()=>{d(l),x(i||"")},[l,i]);let h=async e=>{if(e.preventDefault(),!c.trim()){b.oR.error("Please enter your payout information");return}try{u(!0),await n(o,c)}catch(e){}finally{u(!1)}};return t?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Payout Settings"}),(0,r.jsxs)("form",{onSubmit:h,children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payout Method"}),(0,r.jsx)("div",{className:"space-y-2",children:["paypal","venmo","zelle"].map(e=>(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"radio",name:"payoutType",value:e,checked:o===e,onChange:e=>d(e.target.value),className:"mr-2"}),(0,r.jsx)("span",{className:"text-gray-900 dark:text-white capitalize",children:e})]},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"paypal"===o?"PayPal Email":"venmo"===o?"Venmo Username":"Zelle Email or Phone"}),(0,r.jsx)("input",{type:"text",value:c,onChange:e=>x(e.target.value),placeholder:(()=>{switch(o){case"paypal":return"your.email@example.com";case"venmo":return"@yourusername";case"zelle":return"your.email@example.com or phone number";default:return""}})(),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,r.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-md",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:m,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md ".concat(m?"opacity-70 cursor-not-allowed":""),children:m?"Saving...":"Save"})]})]})]})})}):null}function Z(e){let{isOpen:t,onClose:a}=e,[l,i]=(0,s.useState)([]),[n,o]=(0,s.useState)(!1),[d,c]=(0,s.useState)(!1),[x,m]=(0,s.useState)(!1),[u,h]=(0,s.useState)(1),g=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{1===e?o(!0):c(!0);let a=await fetch("/api/whitelabel/transactions?page=".concat(e,"&limit=20"));if(!a.ok)throw Error("Failed to fetch transactions");let r=await a.json();t?i(e=>[...e,...r.transactions]):i(r.transactions),m(r.hasMore),h(e)}catch(e){console.error("Error fetching transactions:",e),b.oR.error("Failed to load transactions")}finally{o(!1),c(!1)}};(0,s.useEffect)(()=>{t&&g(1,!1)},[t]);let p=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e)};return t?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[80vh] flex flex-col",children:[(0,r.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Transaction History"}),(0,r.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:n?(0,r.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading transactions..."})]})}):0===l.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No transactions found"})]}):(0,r.jsxs)("div",{className:"space-y-4",children:[l.map(e=>(0,r.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 border border-gray-200 dark:border-gray-600",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("span",{className:"text-lg font-semibold ".concat(e.earnings>=0?"text-green-600 dark:text-green-400":"text-blue-600 dark:text-blue-400"),children:[e.earnings>=0?"+":"",y(e.earnings)]}),(0,r.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["(Transaction: ",y(e.amount),")"]})]}),(0,r.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:p(e.createdAt)})]}),e.description&&(0,r.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2",children:e.description}),(0,r.jsxs)("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-gray-200 dark:border-gray-600",children:[(0,r.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Running Balance:"}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:y(e.balance)})]})]},e.id)),x&&(0,r.jsx)("div",{className:"text-center pt-4",children:(0,r.jsx)("button",{onClick:()=>{!d&&x&&g(u+1,!0)},disabled:d,className:"px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 border border-blue-300 dark:border-blue-500 rounded-md hover:bg-blue-50 dark:hover:bg-blue-900 ".concat(d?"opacity-70 cursor-not-allowed":""),children:d?"Loading...":"Load More"})})]})})]})}):null}function Q(e){let{settings:t,setSettings:a}=e,[l,i]=(0,s.useState)(!1),[n,o]=(0,s.useState)(!1),d=async(e,t)=>{try{let r=await fetch("/api/whitelabel/payout",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({payoutType:e,payoutInfo:t})});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to update payout settings")}a(a=>({...a,payoutType:e,payoutInfo:t})),b.oR.success("Payout settings updated successfully!"),o(!1)}catch(e){b.oR.error("Error: ".concat(e.message))}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-medium text-gray-900 dark:text-white mb-4",children:"Payout Settings"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Current Balance"}),(0,r.jsxs)("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["$",t.payoutBalance.toFixed(2)]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Available for payout"})]}),(0,r.jsx)("button",{onClick:()=>i(!0),className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 text-sm",children:"View Transactions"})]})}),(0,r.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Payout Method"}),(0,r.jsxs)("div",{className:"text-gray-900 dark:text-white",children:[t.payoutType.charAt(0).toUpperCase()+t.payoutType.slice(1),t.payoutInfo&&(0,r.jsxs)("span",{className:"text-gray-500 dark:text-gray-400 ml-2",children:["(",t.payoutInfo,")"]})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Configure how you want to receive payouts"})]}),(0,r.jsx)("button",{onClick:()=>o(!0),className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 text-sm",children:"Edit"})]})})]})]}),n&&(0,r.jsx)(G,{isOpen:n,onClose:()=>o(!1),currentType:t.payoutType,currentInfo:t.payoutInfo,onSubmit:d}),l&&(0,r.jsx)(Z,{isOpen:l,onClose:()=>i(!1)})]})}function X(e){let{settings:t,fetchSettings:a,handleBillingPortal:l}=e,[i,n]=(0,s.useState)(!1),o=async()=>{if(confirm("Are you sure you want to cancel your White Label subscription? It will remain active until the end of your billing period.")){n(!0);try{let e=await fetch("/api/whitelabel/cancel",{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to cancel subscription")}b.oR.success("Subscription cancelled. It will remain active until the end of your billing period."),a()}catch(e){b.oR.error("Error: ".concat(e.message))}finally{n(!1)}}},d=async()=>{n(!0);try{let e=await fetch("/api/whitelabel/undo-cancel",{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to undo cancellation")}b.oR.success("Subscription cancellation undone. Your subscription will continue."),a()}catch(e){b.oR.error("Error: ".concat(e.message))}finally{n(!1)}};return(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-medium text-gray-900 dark:text-white mb-4",children:"White Label Subscription"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(t.cancelAtPeriodEnd?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300"),children:t.cancelAtPeriodEnd?"Cancelling":"Active"}),t.cancelAtPeriodEnd&&(0,r.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"(until end of billing period)"})]})]}),(0,r.jsx)("div",{className:"flex items-center space-x-2",children:t.cancelAtPeriodEnd?(0,r.jsx)("button",{onClick:d,disabled:i,className:"text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-300 text-sm py-1 disabled:opacity-50",children:i?"Processing...":"Don't cancel"}):(0,r.jsx)("button",{onClick:o,disabled:i,className:"text-gray-600 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 text-sm py-1 disabled:opacity-50",children:i?"Processing...":"Cancel Subscription"})})]})}),(0,r.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Billing & Invoices"}),(0,r.jsx)("div",{className:"text-gray-900 dark:text-white text-sm",children:"Manage your payment method and view invoices"})]}),(0,r.jsx)("button",{onClick:l,className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 text-sm",children:"Manage Billing"})]})})]})]})}function K(e){var t,a;let{settings:l,setSettings:i,openEditModal:n}=e,[o,d]=(0,s.useState)(!1),[c,x]=(0,s.useState)(!1),m=async e=>{try{let t=await fetch("/api/whitelabel/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({whitelabelHomepageEnabled:e})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to update homepage setting")}i(t=>({...t,whitelabelHomepageEnabled:e})),b.oR.success("Homepage ".concat(e?"enabled":"disabled"," successfully!"))}catch(e){b.oR.error("Error: ".concat(e.message))}},u=async e=>{try{let t=await fetch("/api/whitelabel/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({whitelabelHomepagePrompts:e})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to update prompts")}i(t=>({...t,whitelabelHomepagePrompts:e})),b.oR.success("Prompts updated successfully!"),d(!1)}catch(e){b.oR.error("Error: ".concat(e.message))}},h=async e=>{try{let t=await fetch("/api/whitelabel/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({whitelabelHomepageFooterLinks:e})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to update footer links")}i(t=>({...t,whitelabelHomepageFooterLinks:e})),b.oR.success("Footer links updated successfully!"),x(!1)}catch(e){b.oR.error("Error: ".concat(e.message))}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-medium text-gray-900 dark:text-white mb-4",children:"Homepage"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Enable Homepage"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Enable a custom homepage for your white label platform"})]}),(0,r.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:l.whitelabelHomepageEnabled||!1,onChange:e=>m(e.target.checked),className:"sr-only peer"}),(0,r.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})}),(0,r.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Homepage Title"}),(0,r.jsx)("div",{className:"text-gray-900 dark:text-white",children:l.whitelabelHomepageTitle||"No homepage title configured"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"The main title displayed on your homepage"})]}),(0,r.jsx)("button",{onClick:()=>n("whitelabelHomepageTitle","Homepage Title",l.whitelabelHomepageTitle||"",{placeholder:"Build Apps with AI",description:"Enter the main title for your homepage"}),className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 text-sm",children:"Edit"})]})}),(0,r.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Homepage Description"}),(0,r.jsx)("div",{className:"text-gray-900 dark:text-white",children:l.whitelabelHomepageDescription||"No homepage description configured"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"The description text displayed below your homepage title"})]}),(0,r.jsx)("button",{onClick:()=>n("whitelabelHomepageDescription","Homepage Description",l.whitelabelHomepageDescription||"",{type:"textarea",placeholder:"Create powerful applications using artificial intelligence...",description:"Enter the description text for your homepage"}),className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 text-sm",children:"Edit"})]})}),(0,r.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Default Prompts"}),(0,r.jsxs)("div",{className:"text-gray-900 dark:text-white",children:[(null===(t=l.whitelabelHomepagePrompts)||void 0===t?void 0:t.length)||0," prompts configured"]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Predefined prompts that users can click to start building (max 30)"})]}),(0,r.jsx)("button",{onClick:()=>d(!0),className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 text-sm",children:"Manage"})]})}),(0,r.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Footer Links"}),(0,r.jsxs)("div",{className:"text-gray-900 dark:text-white",children:[(null===(a=l.whitelabelHomepageFooterLinks)||void 0===a?void 0:a.length)||0," links configured"]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Links displayed in the footer of your homepage (max 30)"})]}),(0,r.jsx)("button",{onClick:()=>x(!0),className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 text-sm",children:"Manage"})]})})]})]}),o&&(0,r.jsx)(ee,{isOpen:o,onClose:()=>d(!1),prompts:l.whitelabelHomepagePrompts||[],onSave:u}),c&&(0,r.jsx)(et,{isOpen:c,onClose:()=>x(!1),links:l.whitelabelHomepageFooterLinks||[],onSave:h})]})}function ee(e){let{isOpen:t,onClose:a,prompts:l,onSave:i}=e,[n,o]=(0,s.useState)(l),d=(e,t,a)=>{o(n.map((r,s)=>s===e?{...r,[t]:a}:r))},c=e=>{o(n.filter((t,a)=>a!==e))};return t?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-4xl w-full max-h-[80vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Manage Default Prompts"}),(0,r.jsx)("button",{onClick:a,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsx)("div",{className:"space-y-4 mb-6",children:n.map((e,t)=>(0,r.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Prompt ",t+1]}),(0,r.jsx)("button",{onClick:()=>c(t),className:"text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 text-sm",children:"Remove"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("input",{type:"text",placeholder:"Display text (e.g., 'Build a todo app')",value:e.text,onChange:e=>d(t,"text",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white"}),(0,r.jsx)("textarea",{placeholder:"Actual prompt sent to AI (e.g., 'Create a todo app with React...')",value:e.prompt,onChange:e=>d(t,"prompt",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white"})]})]},t))}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("button",{onClick:()=>{n.length<30&&o([...n,{text:"",prompt:""}])},disabled:n.length>=30,className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-2 px-4 rounded-md transition-colors",children:["Add Prompt (",n.length,"/30)"]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:a,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:"Cancel"}),(0,r.jsx)("button",{onClick:()=>{i(n.filter(e=>e.text.trim()&&e.prompt.trim()))},className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition-colors",children:"Save Prompts"})]})]})]})}):null}function et(e){let{isOpen:t,onClose:a,links:l,onSave:i}=e,[n,o]=(0,s.useState)(l),d=(e,t,a)=>{o(n.map((r,s)=>s===e?{...r,[t]:a}:r))},c=e=>{o(n.filter((t,a)=>a!==e))};return t?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-4xl w-full max-h-[80vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Manage Footer Links"}),(0,r.jsx)("button",{onClick:a,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsx)("div",{className:"space-y-4 mb-6",children:n.map((e,t)=>(0,r.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Link ",t+1]}),(0,r.jsx)("button",{onClick:()=>c(t),className:"text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 text-sm",children:"Remove"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("input",{type:"text",placeholder:"Link title (e.g., 'About Us')",value:e.title,onChange:e=>d(t,"title",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white"}),(0,r.jsx)("input",{type:"url",placeholder:"URL (e.g., 'https://example.com/about')",value:e.url,onChange:e=>d(t,"url",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white"}),(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",checked:e.newTab,onChange:e=>d(t,"newTab",e.target.checked),className:"mr-2"}),(0,r.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Open in new tab"})]})]})]},t))}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("button",{onClick:()=>{n.length<30&&o([...n,{title:"",url:"",newTab:!1}])},disabled:n.length>=30,className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-2 px-4 rounded-md transition-colors",children:["Add Link (",n.length,"/30)"]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:a,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:"Cancel"}),(0,r.jsx)("button",{onClick:()=>{i(n.filter(e=>e.title.trim()&&e.url.trim()))},className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition-colors",children:"Save Links"})]})]})]})}):null}let ea=(0,P.c)("pk_live_51OJhJBHdGQpsHqInIzu7c6PzGPSH0yImD4xfpofvxvFZs0VFhPRXZCyEgYkkhOtBOXFWvssYASs851mflwQvjnrl00T6DbUwWZ");function er(){let{user:e}=(0,c.A)(),[t,a]=(0,s.useState)({whitelabelMultiplier:1,payoutBalance:0,payoutType:"paypal"}),[l,i]=(0,s.useState)(!0),[n,o]=(0,s.useState)(!1),[d,m]=(0,s.useState)(null),[u,h]=(0,s.useState)(!1),[g,p]=(0,s.useState)(!1),[y,f]=(0,s.useState)(!1),[j,k]=(0,s.useState)(null),[v,w]=(0,s.useState)(!1),{isWhitelabel:N}=(0,x.p)(),C=(0,s.useCallback)(async()=>{try{let e=await fetch("/api/whitelabel/settings");if(e.ok){let t=await e.json();a(t)}else console.error("Failed to fetch whitelabel settings")}catch(e){console.error("Error fetching whitelabel settings:",e)}finally{i(!1)}},[]);(0,s.useEffect)(()=>{C()},[C]);let S=async(e,t)=>{try{let r=await fetch("/api/whitelabel/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({[e]:t||null})});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to update setting")}a(a=>({...a,[e]:t||void 0})),b.oR.success("Setting updated successfully!"),o(!1),m(null)}catch(e){b.oR.error("Error: ".concat(e.message))}},E=function(e,t,a){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};m({field:e,title:t,value:a,...r}),o(!0)},P=async e=>{f(!0),k(null);try{let a=await fetch("/api/whitelabel/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paymentMethodId:e})}),r=await a.json();if(!a.ok){var t;if(null===(t=r.error)||void 0===t?void 0:t.includes("payment method")){p(!0),h(!0);return}throw Error(r.error||"Subscription failed")}if(r.requiresAction){let e=await ea;if(e){let{error:t,paymentIntent:s}=await e.confirmCardPayment(r.clientSecret);if(t)throw Error(t.message);if(a=await fetch("/api/whitelabel/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subscriptionId:r.subscriptionId,paymentIntentId:s.id,paymentConfirmed:!0})}),r=await a.json(),!a.ok)throw Error(r.error||"Payment confirmation failed")}}await new Promise(e=>setTimeout(e,2e3)),b.oR.success("Successfully subscribed to White Label!"),setTimeout(async()=>{window.location.reload()},1e3),h(!1),p(!1)}catch(t){let e=t.message||"Subscription failed";k(e),h(!0),b.oR.error(e)}finally{f(!1)}},M=async()=>{if(!v)try{w(!0);let e=await fetch("/api/whitelabel/portal",{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to open billing portal")}let t=await e.json();w(!1),window.location.href=t.url}catch(e){w(!1),b.oR.error("Error: ".concat(e.message))}};if(N)return(0,r.jsx)(r.Fragment,{});if(l)return(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading settings..."})]})});let T=t.whitelabelStripeSubscriptionId;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"space-y-6 ".concat(T?"":"relative"),children:[!T&&(0,r.jsx)("div",{className:"absolute inset-0 bg-gray-900/80 backdrop-blur-sm z-10 flex items-start justify-center pt-8 p-4 rounded-lg min-h-screen",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-lg max-w-md w-full text-center shadow-xl",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsxs)("svg",{className:"w-8 h-8 text-blue-600 dark:text-blue-400",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"}),(0,r.jsx)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Unlock White Label Features"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Get your own branded platform with custom domains, logos, and more."}),t.whitelabelPrice&&(0,r.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg mb-4",children:(0,r.jsxs)("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["$",t.whitelabelPrice,(0,r.jsx)("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-400",children:"/month"})]})})]}),(0,r.jsx)("button",{onClick:()=>P(),disabled:y,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-colors disabled:opacity-50",children:y?"Processing...":"Subscribe to White Label"})]})}),T&&t.subscriptionStatus&&("past_due"===t.subscriptionStatus||"incomplete"===t.subscriptionStatus)&&(0,r.jsx)("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-md border border-red-200 dark:border-red-700",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-red-600 dark:text-red-400 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"White Label Payment Issue"}),(0,r.jsx)("p",{className:"text-sm text-red-700 dark:text-red-300",children:"There was a problem renewing your White Label subscription."})]})]}),(0,r.jsx)("button",{onClick:M,disabled:v,className:"px-3 py-2 bg-red-600 hover:bg-red-700 text-white text-sm font-medium rounded-md transition-colors flex-shrink-0 disabled:opacity-50",children:v?"Loading...":"Fix It"})]})}),(0,r.jsx)(I,{settings:t,setSettings:a,openEditModal:E}),(0,r.jsx)(K,{settings:t,setSettings:a,openEditModal:E}),(0,r.jsx)(H,{settings:t,openEditModal:E}),(0,r.jsx)(O,{settings:t,openEditModal:E}),(0,r.jsx)(W,{settings:t,setSettings:a}),(0,r.jsx)($,{settings:t,setSettings:a}),(0,r.jsx)(Q,{settings:t,setSettings:a}),T&&(0,r.jsx)(X,{settings:t,fetchSettings:C,handleBillingPortal:M})]}),u&&(0,r.jsx)(F,{isOpen:u,onClose:()=>h(!1),showCardInput:g,setShowCardInput:p,onSubscribe:P,stripePromise:ea,setShowSubscribeModal:h,fetchSettings:C,isProcessingPayment:y,setIsProcessingPayment:f,paymentError:j,setPaymentError:k}),n&&d&&(0,r.jsx)(L,{isOpen:n,onClose:()=>{o(!1),m(null)},title:d.title,field:d.field,currentValue:d.value,onSubmit:e=>S(d.field,e),placeholder:d.placeholder,type:d.type,description:d.description})]})}var es=a(19319);let el=e=>{let{announcement:t,onClose:a}=e,[l,i]=(0,s.useState)(!1),n=(0,s.useRef)(null),[o,d]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{if(n.current){n.current.style.maxHeight="none";let e=n.current.scrollHeight;d(e>60),l?n.current.style.maxHeight="".concat(e,"px"):n.current.style.maxHeight="".concat(60,"px")}},[l,t]),t)?(0,r.jsxs)("div",{className:"relative flex items-start p-4 mb-8 rounded-lg bg-slate-800 border border-slate-700",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-blue-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,r.jsx)("span",{className:"sr-only",children:"Info"}),(0,r.jsxs)("div",{className:"ms-3 flex-1 text-sm text-slate-200",children:[(0,r.jsx)("div",{ref:n,className:"leading-5 transition-[max-height] duration-300 ease-in-out overflow-hidden",children:t.split("\n").map((e,t)=>(0,r.jsx)("p",{className:"mb-2 last:mb-0",children:e?(0,es.B)(e):(0,r.jsx)(r.Fragment,{children:"\xa0"})},t))}),o&&(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),i(!l),l&&window.scrollTo({top:0,behavior:"smooth"})},className:"text-blue-400 underline font-medium mt-1 hover:text-blue-300",children:l?"Show Less":"Show More"})]}),(0,r.jsxs)("button",{type:"button",onClick:a,className:"cursor-pointer ml-auto -mx-1.5 -my-1.5 rounded-lg focus:ring-2 focus:ring-blue-400 p-1.5 inline-flex items-center justify-center h-8 w-8 bg-slate-700 text-slate-400 hover:bg-slate-600 hover:text-slate-300","aria-label":"Close",children:[(0,r.jsx)("span",{className:"sr-only",children:"Close"}),(0,r.jsx)("svg",{className:"w-3 h-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 1l12 12m0-12L1 13"})})]})]}):null};function ei(){let e=(0,l.useRouter)(),{user:t,isAuthenticated:a,isLoading:i}=(0,c.A)(),[o,m]=(0,s.useState)(!0),[u,h]=(0,s.useState)("projects"),{isWhitelabel:g,whitelabelConfig:p}=(0,x.p)(),[b,f]=(0,s.useState)(!0),j=e=>{let t=0,a=e.substring(0,100);for(let e=0;e<a.length;e++)t=(t<<5)-t+a.charCodeAt(e),t&=t;return t.toString()};(0,s.useEffect)(()=>{if(g&&(null==p?void 0:p.announcement)){let e=j(p.announcement);f(localStorage.getItem("dismissedAnnouncement")!==e)}else f(!1)},[g,null==p?void 0:p.announcement]);let v=(0,s.useCallback)(()=>{if(g&&(null==p?void 0:p.announcement)){let e=j(p.announcement);localStorage.setItem("dismissedAnnouncement",e),f(!1)}},[g,null==p?void 0:p.announcement]);(0,s.useEffect)(()=>{i||a?!i&&a&&m(!1):e.push("/login")},[i,a,e]),(0,s.useEffect)(()=>{let e=window.location.hash.replace("#","");"projects"===e||"billing"===e||"account"===e||"whitelabel"===e?h(e):h("projects")},[]);let N=e=>{h(e),window.history.pushState(null,"","#".concat(e))};return i||o?(0,r.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("svg",{className:"animate-spin h-10 w-10 text-blue-500 mx-auto mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,r.jsx)("p",{className:"text-gray-300",children:"Loading dashboard..."})]})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,r.jsx)(n(),{children:(0,r.jsxs)("title",{children:["Dashboard -"," ",g?(null==p?void 0:p.siteName)||"":"Famous.ai"]})}),(0,r.jsx)("header",{className:"bg-gray-900 py-4",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[g?(0,r.jsx)(d(),{href:(null==p?void 0:p.homepageEnabled)===!0?"/":"/dashboard",className:"flex items-center",children:(0,r.jsxs)("div",{className:"flex items-center justify-center",children:[(null==p?void 0:p.wordmark)&&(0,r.jsx)("img",{className:"wl-hook-homepage-site-logo-image",src:p.wordmark,alt:(null==p?void 0:p.siteName)||"Platform",width:140}),!(null==p?void 0:p.wordmark)&&(null==p?void 0:p.logo)&&(0,r.jsx)("img",{className:"wl-hook-homepage-site-logo-image",src:p.logo,alt:(null==p?void 0:p.siteName)||"Platform",width:30}),!(null==p?void 0:p.wordmark)&&!(null==p?void 0:p.logo)&&(null==p?void 0:p.siteName)&&(0,r.jsx)("div",{className:"wl-hook-sitename-text text-white text-2xl font-bold",children:p.siteName})]})}):(0,r.jsx)(d(),{href:"/",className:"flex items-center",children:(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)("img",{src:"/famous_tp_black.png",alt:"Famous.ai",width:140,className:"brightness-0 invert"})})}),(0,r.jsx)("span",{className:"ml-4 text-gray-300",children:"Dashboard"})]}),(0,r.jsx)("div",{className:"flex items-center gap-4"})]})})}),(0,r.jsxs)("main",{className:"py-10",children:[b&&g&&(null==p?void 0:p.announcement)&&(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsx)(el,{announcement:p.announcement,onClose:v})}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-6",children:(0,r.jsxs)("nav",{className:"-mb-px flex space-x-4 sm:space-x-8 overflow-x-auto no-scrollbar sm:overflow-x-visible pr-4 sm:pr-0",children:[(0,r.jsx)("button",{onClick:()=>N("projects"),className:"py-4 px-1 border-b-2 font-medium text-sm flex-shrink-0 whitespace-nowrap ".concat("projects"===u?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"),children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Projects"]})}),(0,r.jsx)("button",{onClick:()=>N("billing"),className:"py-4 px-1 border-b-2 font-medium text-sm flex-shrink-0 whitespace-nowrap ".concat("billing"===u?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"),children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"Billing"]})}),(0,r.jsx)("button",{onClick:()=>N("account"),className:"py-4 px-1 border-b-2 font-medium text-sm flex-shrink-0 whitespace-nowrap ".concat("account"===u?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"),children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Account"]})}),!g&&(0,r.jsx)("button",{onClick:()=>N("whitelabel"),className:"py-4 px-1 border-b-2 font-medium text-sm flex-shrink-0 whitespace-nowrap ".concat("whitelabel"===u?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"),children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("svg",{className:"w-5 h-5 mr-2",fill:"none",strokeWidth:"2",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"}),(0,r.jsx)("circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor"})]}),"White Label"]})})]})}),"account"===u&&(0,r.jsx)(w,{}),"billing"===u&&(0,r.jsx)(k,{}),"whitelabel"===u&&(0,r.jsx)(er,{}),"projects"===u&&(0,r.jsx)(y,{})]})]})]})}},61954:(e,t,a)=>{"use strict";a.d(t,{Yt:()=>r,fV:()=>s,lk:()=>l});var r=function(e){return e.BUILD_CREDIT="build_credit",e.MESSAGE_OVERAGE="message_overage",e.DATABASE_COMPUTE_HOUR="database_compute_hour",e.PROJECT_COMPUTE_HOUR="project_compute_hour",e.UPLOADED_ASSET_EGRESS="uploaded_asset_egress",e.SUPABASE_MUTATION="supabase_mutation",e.PAGE_VIEW="page_view",e.ANALYTICS_EVENT="analytics_event",e.MOBILE_APP_REBUILD="mobile_app_rebuild",e.MOBILE_APP_PUBLISH="mobile_app_publish",e.CODE_EDIT_REBUILD="code_edit_rebuild",e.SITE_PUBLISH="site_publish",e}({});function s(e,t){let a=l.find(t=>t.product===e);return a?{...a,tiers:a.tiers.map(e=>({...e,flatFee:Math.round(e.flatFee*t*100)/100,perUnit:Math.round(e.perUnit*t*1e6)/1e6}))}:l[0]}let l=[{product:"project_compute_hour",name:"Project Compute Hours",price:.15,currency:"USD",unit:"Hours",singularUnit:"Hour",tiers:[{min:0,max:41,flatFee:0,perUnit:0},{min:41,max:1/0,flatFee:0,perUnit:.15}]},{product:"database_compute_hour",name:"Database Compute Hours",price:.0235,currency:"USD",unit:"Hours",singularUnit:"Hour",tiers:[{min:0,max:41,flatFee:0,perUnit:0},{min:41,max:1/0,flatFee:0,perUnit:.0235}]},{product:"uploaded_asset_egress",name:"Uploaded Asset Egress",price:.1,currency:"USD",unit:"MB",singularUnit:"MB",tiers:[{min:0,max:2,flatFee:0,perUnit:0},{min:2,max:31,flatFee:16.45,perUnit:0},{min:31,max:101,flatFee:28.22,perUnit:0},{min:101,max:1/0,flatFee:28.22,perUnit:8e-4}]},{product:"supabase_mutation",name:"Database Alterations",price:.01,currency:"USD",unit:"Alterations",singularUnit:"Alteration",tiers:[{min:0,max:10,flatFee:0,perUnit:0},{min:11,max:25,flatFee:8.54,perUnit:0},{min:26,max:50,flatFee:16.32,perUnit:0},{min:51,max:1/0,flatFee:16.32,perUnit:.003}]},{product:"page_view",name:"Page Views",price:.001,currency:"USD",unit:"Views",singularUnit:"View",tiers:[{min:0,max:10,flatFee:0,perUnit:0},{min:11,max:100,flatFee:6.85,perUnit:0},{min:101,max:1e3,flatFee:12.82,perUnit:0},{min:1001,max:1/0,flatFee:12.82,perUnit:1e-4}]},{product:"analytics_event",name:"Analytics Events",price:1e-4,currency:"USD",unit:"Events",singularUnit:"Event",tiers:[{min:0,max:10,flatFee:0,perUnit:0},{min:11,max:100,flatFee:9.63,perUnit:0},{min:101,max:1e3,flatFee:16.83,perUnit:0},{min:1001,max:1/0,flatFee:16.83,perUnit:2e-4}]},{product:"mobile_app_rebuild",name:"Mobile App Rebuilds",price:.09,currency:"USD",unit:"Rebuilds",singularUnit:"Rebuild",tiers:[{min:0,max:1/0,flatFee:0,perUnit:.09}]},{product:"mobile_app_publish",name:"Mobile App Submissions",price:.15,currency:"USD",unit:"Submissions",singularUnit:"Submission",tiers:[{min:0,max:1/0,flatFee:0,perUnit:.15}]},{product:"code_edit_rebuild",name:"Code Edit Rebuilds",price:.02,currency:"USD",unit:"Rebuilds",singularUnit:"Rebuild",tiers:[{min:0,max:10,flatFee:0,perUnit:0},{min:11,max:25,flatFee:1.31,perUnit:0},{min:26,max:50,flatFee:3.32,perUnit:0},{min:51,max:1/0,flatFee:3.32,perUnit:.02}]},{product:"site_publish",name:"Site Publishes",price:.01,currency:"USD",unit:"Publishes",singularUnit:"Publish",tiers:[{min:0,max:5,flatFee:0,perUnit:0},{min:6,max:20,flatFee:14.13,perUnit:0},{min:21,max:100,flatFee:28.59,perUnit:0},{min:101,max:1/0,flatFee:28.59,perUnit:.02}]},{product:"message_overage",name:"Message Overage",price:.5,currency:"USD",unit:"Overage Messages",singularUnit:"Overage Message",tiers:[{min:0,max:100,flatFee:0,perUnit:1.24},{min:101,max:500,flatFee:0,perUnit:1.19},{min:501,max:1e3,flatFee:0,perUnit:1.15},{min:1001,max:1/0,flatFee:0,perUnit:1.1}]},{product:"build_credit",name:"Build Credit Overage",price:1,currency:"USD",unit:"Credit",singularUnit:"Credit",tiers:[{min:0,max:1/0,flatFee:0,perUnit:1}]}]}},e=>{var t=t=>e(e.s=t);e.O(0,[1106,2146,4448,804,6191,5253,8266,2935,636,6593,8792],()=>t(87100)),_N_E=e.O()}]);